{"version":3,"sources":["/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/$_gendir lazy","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/app.component.css","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/app.component.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/app.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/app.module.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/app.routes.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/app.settings.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/change_current_dialog/change_current_dialog.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/change_current_dialog/change_current_dialog.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/footer/footer.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/footer/footer.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/layouts/basicLayout.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/layouts/basicLayout.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/layouts/layouts.module.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/navigation/navigation.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/navigation/navigation.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/topnavbar/topnavbar.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/topnavbar/topnavbar.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/message_errors/message_errors.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/message_errors/message_errors.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/mode_dialog_master/mode_dialog_master.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/mode_dialog_master/mode_dialog_master.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/mode_dialog_pupil/mode_dialog_pupil.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/mode_dialog_pupil/mode_dialog_pupil.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/player_dialog_master/player_dialog_master.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/player_dialog_master/player_dialog_master.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/player_dialog_pupil/player_dialog_pupil.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/player_dialog_pupil/player_dialog_pupil.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/view_block_calling/callingfroms.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/view_block_calling/callingfroms.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/services/dialogs.service.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/services/error.service.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/services/guards.service.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/services/status.service.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/services/websocket.service.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/activedialogsview.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/activedialogsview.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/appviews.module.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/dialogsview.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/dialogsview.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/dialogview.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/dialogview.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_message/view_message.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_message/view_message.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_mode_calling/view_mode_calling.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_mode_calling/view_mode_calling.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_mode_wait_pupil/view_mode_wait_pupil.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_mode_wait_pupil/view_mode_wait_pupil.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_profile/equal_validator.directive.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_profile/view_profile.component.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_profile/view_profile.template.html","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/environments/environment.ts","/Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/$$_gendir lazy\n// module id = ../../../../../src/$$_gendir lazy recursive\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<!-- Main view/routes wrapper-->\\n<router-outlet></router-outlet>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n\nimport { StatusService } from './services/status.service';\nimport { AppSettings } from './app.settings';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n    title = 'app';\n\n    constructor(\n        private statusService: StatusService,\n        private router: Router\n        ) {\n\n    }\n    public ngOnInit():any {\n        let self = this;\n\n        AppSettings.initialized();\n\n        this.statusService.init();\n\n        this.statusService.calling.subscribe((message) => {\n            if (self.router.url != '/wait') {\n                this.router.navigate(['/wait']);\n            }\n        });\n    }\n\n\n    ngOnDestroy() {\n        this.statusService.calling.unsubscribe();\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { Http, HttpModule, XSRFStrategy, CookieXSRFStrategy } from '@angular/http';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { RouterModule } from \"@angular/router\";\nimport { JWBootstrapSwitchModule } from '../../node_modules/jw-bootstrap-switch-ng2';\n\nimport { WebSocketService } from \"./services/websocket.service\";\n\nimport { ROUTES } from \"./app.routes\";\nimport { AppComponent } from './app.component';\nimport { AppviewsModule } from \"./views/appviews.module\";\nimport { LayoutsModule } from \"./components/common/layouts/layouts.module\";\n\nimport { DialogsService } from './services/dialogs.service';\nimport { StatusService } from './services/status.service';\nimport { ErrorService } from './services/error.service';\nimport { AuthGuard } from './services/guards.service';\n\n\n\nexport function CookieXSRFStrategyFactory() {\n    return  new CookieXSRFStrategy('csrftoken', 'X-CSRFToken');\n}\n\nexport const AppCSRF = {\n  provide: XSRFStrategy,\n  useFactory: CookieXSRFStrategyFactory,\n};\n\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        ],\n    imports: [\n        BrowserModule,\n        AppviewsModule,\n        LayoutsModule,\n        HttpModule,\n        BrowserAnimationsModule,\n        RouterModule.forRoot(ROUTES, { useHash: true }),\n        JWBootstrapSwitchModule,\n    ],\n    providers: [\n        WebSocketService,\n        AppCSRF,\n        StatusService,\n        DialogsService,\n        ErrorService,\n        AuthGuard\n    ],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/app.module.ts","import { Routes } from \"@angular/router\";\n\nimport { DialogsViewComponent } from \"./views/dialogsview.component\";\nimport { ActiveDialogsViewComponent } from \"./views/activedialogsview.component\";\nimport { DialogViewComponent } from \"./views/dialogview.component\";\n\n//import {BlankLayoutComponent} from \"./components/common/layouts/blankLayout.component\";\nimport { BasicLayoutComponent } from \"./components/common/layouts/basicLayout.component\";\nimport { ModeWaitPupilViewComponent } from \"./views/view_mode_wait_pupil/view_mode_wait_pupil.component\";\nimport { ModeCallingViewComponent } from \"./views/view_mode_calling/view_mode_calling.component\";\nimport { MessageViewComponent } from \"./views/view_message/view_message.component\";\nimport { ProfileViewComponent } from \"./views/view_profile/view_profile.component\";\n\n\nimport { AuthGuard } from './services/guards.service';\n\nexport const ROUTES:Routes = [\n  // Main redirect\n  {path: '', redirectTo: 'dialogs', pathMatch: 'full'},\n\n  // App views\n  {\n    path: '', component: BasicLayoutComponent,\n    children: [\n        {\n            path: 'dialogs', \n            component: DialogsViewComponent,\n            canActivate: [AuthGuard]\n        }\n    ]\n  },\n  {\n    path: '', component: BasicLayoutComponent,\n    children: [\n        {\n            path: 'activedialogs', \n            component: ActiveDialogsViewComponent,\n            canActivate: [AuthGuard]\n        }\n    ]\n  },\n  {\n    path: '', component: BasicLayoutComponent,\n    children: [\n        {\n            path: 'dialog/:dialog_id', \n            component: DialogViewComponent,\n            canActivate: [AuthGuard]\n        }\n    ]\n  },\n  {\n    path: '', component: BasicLayoutComponent,\n    children: [\n        {\n            path: 'message', \n            component: MessageViewComponent,\n            canActivate: [AuthGuard]\n        }\n    ]\n  },\n  {\n    path: '', component: BasicLayoutComponent,\n    children: [\n        {\n            path: 'profile', \n            component: ProfileViewComponent,\n            canActivate: [AuthGuard]\n        }\n    ]\n  },\n  {\n    path: 'wait', \n    component: ModeWaitPupilViewComponent,\n    canActivate: [AuthGuard]\n  },\n  {\n    path: 'calling/:id', \n    component: ModeCallingViewComponent,\n    canActivate: [AuthGuard]\n  },\n  /*\n  {\n    path: '', component: BasicLayoutComponent,\n    children: [\n        {\n            path: 'mon', \n            component: MonitoringComponent,\n            //canActivate: [AuthGuard]\n        }\n    ]\n  },\n  */\n  // Handle all other routes\n  {path: '**',  redirectTo: 'dialogs'}\n];\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/app.routes.ts","export class AppSettings {\n    static host = document.location.hostname;\n    static protocol = document.location.protocol;\n    \n    public static base_url;// = AppSettings.protocol + '//' + AppSettings.host + ':8000';\n    \n    public static URL_STATUS;\n    public static URL_DIALOGS;\n    public static URL_ACTIVEDIALOGS;\n    public static URL_MYACTIVEDIALOGS;\n    public static URL_DIALOG_RUN;\n    public static URL_DIALOG_RUNINTO;\n    public static URL_DIALOG_ACTIVESTOP;\n    public static URL_DIALOG_STOP;\n    public static URL_CHANGE_ACCEPT_CALL;\n    public static URL_MESSAGE;\n    public static URL_CHECK_USER;\n    public static URL_USER_SETTING;\n    public static URL_WEBSOKET;\n    public static URL_WEBSOKET_PEER;\n\n\n    public static CALLING_TIME_INTERVAL = 5000;\n    public static HEARTBEAT_DIALOG_TIMEOUT = 10000;\n\n    public static MODE_LIST = 'mode_list';\n    public static MODE_WAIT_PUPIL = 'mode_wait_pupil';\n    public static MODE_CALLING = 'mode_calling';\n    public static MODE_DIALOG_MASTER = 'mode_dialog_master';\n    public static MODE_DIALOG_PUPIL = 'mode_dialog_pupil';\n\n    static initialized() {\n\n\n\n        if (AppSettings.host.indexOf('localhost') > -1 || AppSettings.host.indexOf('127.0.0.1') > -1) {\n            AppSettings.base_url = AppSettings.protocol + '//' + AppSettings.host + ':8000';\n\n            if (AppSettings.protocol == \"https:\") {\n                AppSettings.URL_WEBSOKET = \"wss://\" + document.location.hostname + ':8000/peerjs';\n            } else {\n                AppSettings.URL_WEBSOKET = \"ws://\" + document.location.hostname + ':8000/peerjs';\n            }\n            \n        } else {\n            AppSettings.base_url = AppSettings.protocol + '//' + AppSettings.host;\n            if (AppSettings.protocol == \"https:\") {\n                AppSettings.URL_WEBSOKET = \"wss://\" + document.location.hostname + '/peerjs';\n            } else {\n                AppSettings.URL_WEBSOKET = \"ws://\" + document.location.hostname + '/peerjs';\n            }\n        }\n\n\n        AppSettings.URL_STATUS = AppSettings.base_url + \"/dialogs/api/status/\";\n        AppSettings.URL_DIALOGS = AppSettings.base_url + \"/dialogs/api/dialogs/\";\n        AppSettings.URL_ACTIVEDIALOGS = AppSettings.base_url + \"/dialogs/api/activedialogs/\";\n        AppSettings.URL_MYACTIVEDIALOGS = AppSettings.base_url + \"/dialogs/api/myactivedialogs/\";\n        AppSettings.URL_DIALOG_RUN = AppSettings.base_url + \"/dialogs/api/run/\";\n        AppSettings.URL_DIALOG_RUNINTO = AppSettings.base_url + \"/dialogs/api/runinto/\";\n        AppSettings.URL_DIALOG_ACTIVESTOP = AppSettings.base_url + \"/dialogs/api/stop/\";\n        AppSettings.URL_DIALOG_STOP = AppSettings.base_url + \"/dialogs/api/stop/\";\n        AppSettings.URL_CHANGE_ACCEPT_CALL = AppSettings.base_url + \"/accounts/accept_call/\";\n        AppSettings.URL_MESSAGE = AppSettings.base_url + \"/accounts/message/\";\n        AppSettings.URL_CHECK_USER  = AppSettings.base_url + \"/accounts/check_user/\";\n        AppSettings.URL_USER_SETTING = AppSettings.base_url + \"/accounts/user/\";\n        \n        AppSettings.URL_WEBSOKET_PEER = document.location.hostname;\n\n    }\n\n\n}\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/app.settings.ts","import { Component, OnInit, OnDestroy, Input, Output, OnChanges, EventEmitter } from '@angular/core';\n\nimport { DialogsService } from '../../services/dialogs.service';\nimport { AppSettings } from '../../app.settings';\n\n@Component({\n  selector: 'changecurrentdialog',\n  templateUrl: 'change_current_dialog.template.html'\n})\n\nexport class ChangeCurrentDialogComponent implements OnInit, OnDestroy {\n    @Output() public close_dialog  = new EventEmitter();\n    @Output() public selected_dialog  = new EventEmitter();\n\n    loading: boolean = false;\n    mydialogs = [];\n\n\n    constructor(\n        private dialogsService: DialogsService\n        ) {\n    }\n\n    ngOnInit() {\n        this._getMyActiveDialog();\n    }\n\n    ngAfterViewInit() {\n    }\n\n    ngOnChanges(changes) {\n    }\n    \n    private _getMyActiveDialog() {\n        let self = this;\n        self.loading = true;\n        self.dialogsService.getMyActiveDialogs().subscribe((dialogs) => {\n            self.loading = false;\n            self.mydialogs = dialogs;\n        });\n\n    }\n\n    private changeSelectedDialog(item) {\n        for (let i = 0; i < this.mydialogs.length; i++) {\n            this.mydialogs[i].select = false;\n        }\n        item.select = true;\n    }\n\n    private selectDialog() {\n        let selected_dialog;\n        for (let i = 0; i < this.mydialogs.length; i++) {\n            if (this.mydialogs[i].select == true) {\n                selected_dialog = this.mydialogs[i];\n                break;\n            };\n        }\n        this.selected_dialog.emit(selected_dialog);\n    }\n\n\n    ngOnDestroy() {\n    }\n\n    closeChangeDialog() {\n        this.close_dialog.emit(false);\n    }\n    \n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/change_current_dialog/change_current_dialog.component.ts","module.exports = \"<div style=\\\"position: fixed;top:0;left:0;width: 100%; height: 100%\\\">\\n    <div style=\\\"width: 100%;height: 100%;background-color: black;opacity: 0.5;\\\"></div>\\n\\n    <div style=\\\"width: 600px;height: 500px;position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    margin: 50px auto;\\\">\\n\\n        <div class=\\\"panel panel-primary\\\">\\n            <div class=\\\"panel-heading\\\">\\n                Выберите новый диалог\\n            </div>\\n            <div class=\\\"panel-body\\\" style=\\\"min-height: 200px;max-height: 300px;overflow: auto;\\\">\\n\\n                <ul class=\\\"list-group\\\">\\n                    <li *ngFor=\\\"let item of mydialogs\\\" class=\\\"list-group-item\\\" style=\\\"display:flex;cursor: pointer;justify-content: space-between;\\\" (click)=\\\"changeSelectedDialog(item)\\\">\\n                        <div style=\\\"margin-right: 20px;flex:0;\\\">\\n                            <input type=\\\"radio\\\" [(ngModel)]=\\\"item.select\\\" name=\\\"dialog\\\" [value]=\\\"true\\\">\\n                        </div>\\n                        <div style=\\\"flex: 3;\\\">\\n                            <p>{{item.dialog.name}}</p>\\n                            <p style=\\\"font-size: 9px;\\\">{{item.dialog.description}}</p>\\n                        </div>\\n                        <div *ngIf=\\\"item.dialog.background_image\\\" style=\\\"flex:0;width: 50px;height:50px\\\">\\n                            <div *ngIf=\\\"item.dialog.background_image\\\" \\n                                [ngStyle]=\\\"{'background-image': 'url(' + item.dialog.background_image + ')'}\\\"\\n                                style=\\\"\\n                                    height: 50px; \\n                                    width: 50px; \\n                                    background-size: cover;\\n                                    display: block;\\\"></div>\\n                        </div>\\n                    </li>\\n                </ul>\\n            </div>\\n            <div class=\\\"panel-footer\\\" style=\\\"\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"selectDialog()\\\">Выбрать диалог</button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"closeChangeDialog()\\\">Закрыть</button>\\n            </div>\\n        </div>\\n        \\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/change_current_dialog/change_current_dialog.template.html\n// module id = ../../../../../src/app/components/change_current_dialog/change_current_dialog.template.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n//import { ErrorService } from '../../../services/error.service';\n//import { AuthenticationService } from '../../../services/authentication.service';\nimport { ErrorService } from '../../../services/error.service';\nimport { StatusService } from '../../../services/status.service';\nimport { WebSocketService } from '../../../services/websocket.service';\n\n\n@Component({\n  selector: 'footer',\n  templateUrl: 'footer.template.html'\n})\nexport class FooterComponent implements OnInit {\n\n\n    public constructor(\n        ) {\n        \n    }\n\n    ngOnInit() {\n        let self = this;\n\n       \n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/footer/footer.component.ts","module.exports = \"<div class=\\\"row\\\" style=\\\"background: rgba(64,75,97, 0.9);\\\">\\n    <div style=\\\"height: 80px;color: white;margin-top:20px;font-size: 14px;\\\">\\n        <ol>\\n            <li>\\n                <a [routerLink]=\\\"['/message']\\\" style=\\\"color:white;\\\">Обратная связь</a>\\n            </li>\\n            <li>\\n                <a style=\\\"color:white;cursor: pointer;\\\" (click)=\\\"show_error_dialog=true\\\">Сообщить об ошибке</a>\\n            </li>\\n        </ol>\\n    </div>\\n</div>\\n\\n\\n<messageerrors [(visible)]=\\\"show_error_dialog\\\"></messageerrors>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/footer/footer.template.html\n// module id = ../../../../../src/app/components/common/footer/footer.template.html\n// module chunks = main","import { Component } from '@angular/core';\n\ndeclare var jQuery:any;\n\n@Component({\n  selector: 'basic',\n  templateUrl: 'basicLayout.template.html',\n  //host: {\n  //  '(window:resize)': 'onResize()'\n  //}\n})\nexport class BasicLayoutComponent {\n\n  public ngOnInit():any {\n  }\n\n  public onResize(){\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/layouts/basicLayout.component.ts","module.exports = \"<!-- Wrapper-->\\n<div class=\\\"wrapper\\\">\\n\\n    <!-- Top navigation -->\\n    <topnavbar></topnavbar>\\n\\n    <!-- Main view/routes wrapper-->\\n    <router-outlet></router-outlet>\\n\\n    <!-- Footer -->\\n    <footer></footer>\\n\\n\\n</div>\\n<!-- End wrapper-->\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/layouts/basicLayout.template.html\n// module id = ../../../../../src/app/components/common/layouts/basicLayout.template.html\n// module chunks = main","import {NgModule} from \"@angular/core\";\nimport {BrowserModule} from \"@angular/platform-browser\";\nimport {RouterModule} from \"@angular/router\";\nimport { FormControl, FormsModule } from '@angular/forms';\n\n//import {BsDropdownModule} from 'ngx-bootstrap';\n\nimport { JWBootstrapSwitchModule } from 'jw-bootstrap-switch-ng2';\nimport {BasicLayoutComponent} from \"./basicLayout.component\";\n\nimport {NavigationComponent} from \"../navigation/navigation.component\";\nimport {FooterComponent} from \"../footer/footer.component\";\nimport {TopNavbarComponent} from \"../topnavbar/topnavbar.component\";\nimport { MessageErrorsComponent } from \"../../../components/message_errors/message_errors.component\";\n\n\n@NgModule({\n  declarations: [\n    FooterComponent,\n    BasicLayoutComponent,\n    NavigationComponent,\n    TopNavbarComponent,\n    MessageErrorsComponent,\n  ],\n  imports: [\n    FormsModule,\n    BrowserModule,\n    RouterModule,\n    JWBootstrapSwitchModule,\n  ],\n  exports: [\n    FooterComponent,\n    BasicLayoutComponent,\n    NavigationComponent,\n    TopNavbarComponent,\n    MessageErrorsComponent,\n  ],\n})\n\nexport class LayoutsModule {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/layouts/layouts.module.ts","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n// import 'jquery-slimscroll';\nimport { FormsModule } from '@angular/forms';\n\n// import { AuthenticationService } from '../../../services/authentication.service';\n\n//declare var jQuery:any;\n\n@Component({\n  selector: 'navigation',\n  templateUrl: 'navigation.template.html'\n})\n\nexport class NavigationComponent implements OnInit, OnDestroy {\n\n    constructor(\n        private router: Router, \n        private route: ActivatedRoute, \n        ) {\n        var self = this;\n\n        this.router.events.subscribe(\n            (url:any) => {\n        }); \n        \n    }\n\n    ngOnInit() {\n        var self = this;\n\n    }\n\n    ngAfterViewInit() {\n        \n    }\n\n    activeRoute(routename: string): boolean{\n        return this.router.url.indexOf(routename) > -1;\n    }\n\n    \n\n\n    ngOnDestroy() {\n        //this.menuService.update.unsubscribe();\n    }\n\n    logout() {\n        console.log('logout')\n        this.router.navigate(['/login']);\n    }\n    \n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/navigation/navigation.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/navigation/navigation.template.html\n// module id = ../../../../../src/app/components/common/navigation/navigation.template.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n//import { ErrorService } from '../../../services/error.service';\n//import { AuthenticationService } from '../../../services/authentication.service';\nimport { ErrorService } from '../../../services/error.service';\nimport { StatusService } from '../../../services/status.service';\nimport { WebSocketService } from '../../../services/websocket.service';\n\n\n@Component({\n  selector: 'topnavbar',\n  templateUrl: 'topnavbar.template.html'\n})\nexport class TopNavbarComponent implements OnInit {\n\n    errors = [];\n    messages = [];\n\n    server_error;\n\n    loading = false;\n    user;\n    state_input_call = false;\n\n    public constructor(\n        private router: Router,\n        private statusService: StatusService,\n        private webSocketService: WebSocketService,\n        private errorService: ErrorService,\n        //private authenticationService: AuthenticationService\n        ) {\n        \n    }\n\n    ngOnInit() {\n        let self = this;\n\n        self.webSocketService.open.subscribe(function() {\n            self.server_error = false;\n        })\n\n\n        self.statusService.ready.subscribe((date) => {\n            self.user = this.statusService.user;\n            self.state_input_call = self.user.is_accept_call;\n        });\n\n\n        for (let i in this.errorService.errors) {\n            this.errors.push(this.errorService.errors[i])\n        }\n        this.errorService.errors_update.subscribe(item => {\n            this.errors = [];\n            for (let i in this.errorService.errors) {\n                if (this.errorService.errors[i].code == 1000) {\n                    this.server_error = true;\n                    delete this.errorService.errors[i];\n                    continue;\n                }\n                this.errors.push(this.errorService.errors[i])\n            }\n        })\n        this.messages = this.errorService.messages;\n        this.errorService.messages_update.subscribe(item => {\n            this.messages = this.errorService.messages;\n        })\n\n\n        if (!self.user) {\n            self.user = self.statusService.user;\n            if (!self.user) {\n                self.statusService.getStatus();\n            }\n        }\n    }\n\n    removeError(index) {\n        delete this.errorService.errors[this.errors[index].code];\n        this.errors.splice(index, 1)\n    }\n\n    removeMessage(index) {\n        this.messages.splice(index, 1)\n    }\n\n    logout() {\n        console.log('logout')\n        this.loading = true;\n        this.router.navigate(['/login']);\n    }\n\n    activeRoute(routename: string): boolean{\n        return this.router.url == routename;\n    }\n\n    onChangeInputCall() {\n        this.statusService.changeAcceptCall(!this.state_input_call).subscribe((data) => {\n        })\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/topnavbar/topnavbar.component.ts","module.exports = \"<nav class=\\\"navbar navbar-default top-nav-collapse\\\" style=\\\"border-radius: 0px;\\\">\\n  <div class=\\\"container\\\">\\n    <div class=\\\"navbar-header\\\">\\n        <button type=\\\"button\\\" class=\\\"navbar-toggle\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#myNavbar\\\">\\n            <span class=\\\"icon-bar\\\"></span>\\n            <span class=\\\"icon-bar\\\"></span>\\n            <span class=\\\"icon-bar\\\"></span>\\n        </button>\\n        <a class=\\\"navbar-brand\\\" href=\\\"#\\\" style=\\\"margin-left: 0;\\\">Ди<span class=\\\"logo-dec\\\">алоги</span></a>\\n    </div>\\n    <div class=\\\"collapse navbar-collapse\\\" id=\\\"myNavbar\\\">\\n      <ul class=\\\"nav navbar-nav navbar-right\\\">\\n        <li [ngClass]=\\\"{'active': activeRoute('/dialogs')}\\\">\\n            <a [routerLink]=\\\"['/dialogs']\\\">Все диалоги</a>\\n        </li>\\n        <li [ngClass]=\\\"{'active': activeRoute('/activedialogs')}\\\">\\n            <a [routerLink]=\\\"['/activedialogs']\\\">Диалоги в ожидание ученика</a>\\n        </li>\\n        <li class=\\\"dropdown\\\">\\n            <a href=\\\"#\\\" class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">Настройки<span class=\\\"caret\\\"></span></a>\\n              <ul class=\\\"dropdown-menu\\\">\\n                <li><a [routerLink]=\\\"['/profile']\\\" >Профиль</a></li>\\n                <li role=\\\"separator\\\" class=\\\"divider\\\"></li>\\n                <li><a href=\\\"/accounts/logout/?next=/\\\" target=\\\"_self\\\">Выход</a></li>\\n              </ul>\\n        </li>\\n      </ul>\\n    </div>\\n    <div style=\\\"width: 100%;margin: 0 0 10px 0;\\\">\\n            <bSwitch [switch-size]=\\\"'small'\\\" [switch-animate]=\\\"true\\\" [(ngModel)]=\\\"state_input_call\\\" (onChangeState)=\\\"onChangeInputCall($event)\\\" [switch-off-text]=\\\"'Выкл'\\\"\\n          [switch-on-text]=\\\"'Вкл'\\\"></bSwitch>\\n            <span style=\\\"color:beige;margin-left: 18px;\\\">Принимать входящие звонки</span>\\n        </div>\\n  </div>\\n</nav>\\n\\n<div *ngIf=\\\"server_error\\\" style=\\\"position: absolute;top:0;left:0;height: 100%;width: 100%;z-index: 100;\\\">\\n    <div style=\\\"position: fixed;opacity: 0.7;width:100%;height:200%;background-color: white;\\\"></div>\\n    <div style=\\\"position: relative;margin: auto;margin-top: 160px;text-align: center;color: darkred;\\\">\\n        <h1>Опс... не могу получить доступ к серверу</h1>\\n        <h4>Работа сайта возобновится после восстановления доступа к серверу</h4>\\n    </div>\\n</div>\\n\\n<div *ngIf=\\\"errors.length > 0\\\" style=\\\"position:absolute;width:100%;top:0;right:0;z-index:1000;\\\">\\n    <div *ngFor=\\\"let error of errors;let i=index\\\" class=\\\"alert alert-danger\\\" style=\\\"margin: 0 0 5px 0;max-height: 300px;overflow-y: auto;\\\">\\n        <button aria-hidden=\\\"true\\\" data-dismiss=\\\"alert\\\" class=\\\"close\\\" type=\\\"button\\\" (click)=\\\"removeError(i)\\\" style=\\\"margin-top:-10px;margin-right: -10px;\\\">×</button>\\n        <span *ngIf=\\\"error?.host\\\" style=\\\"font-weight: 800;\\\">Host: {{error?.host}}</span> \\n        <span  *ngIf=\\\"error?.message\\\"><pre>Описание: {{error?.message}} </pre></span>\\n        <span  *ngIf=\\\"error?.rc\\\">Код rc: {{error?.rc}}</span>\\n    </div>\\n</div>\\n\\n<div *ngIf=\\\"messages.length > 0\\\" style=\\\"position:absolute;width:100%;top:0;right:0;z-index:1000;\\\">\\n    <div *ngFor=\\\"let message of messages;let i=index\\\" class=\\\"alert alert-success\\\" style=\\\"margin: 0 0 5px 0;max-height: 300px;overflow-y: auto;\\\">\\n        <button aria-hidden=\\\"true\\\" data-dismiss=\\\"alert\\\" class=\\\"close\\\" type=\\\"button\\\" (click)=\\\"removeMessage(i)\\\" style=\\\"margin-top:-10px;margin-right: -10px;\\\">×</button>\\n        <span *ngIf=\\\"message?.host\\\" style=\\\"font-weight: 800;\\\">Host: {{message?.host}}</span> \\n        <span  *ngIf=\\\"message?.message\\\"><pre>Описание: {{message?.message}} </pre></span>\\n        <span  *ngIf=\\\"message?.rc\\\">Код rc: {{message?.rc}}</span>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/common/topnavbar/topnavbar.template.html\n// module id = ../../../../../src/app/components/common/topnavbar/topnavbar.template.html\n// module chunks = main","import { Component, OnInit, OnDestroy, Input, Output, OnChanges, EventEmitter,\ntrigger, state, style, animate, transition } from '@angular/core';\n\nimport { StatusService } from '../../services/status.service';\nimport { AppSettings } from '../../app.settings';\n\n@Component({\n    selector: 'messageerrors',\n    templateUrl: 'message_errors.template.html',\n    animations: [\n        trigger('dialog', [\n            transition('void => *', [\n                style({ transform: 'scale3d(.3, .3, .3)' }),\n                animate(100)\n            ]),\n            transition('* => void', [\n                animate(100, style({ transform: 'scale3d(.0, .0, .0)' }))\n            ])\n        ])\n    ]\n})\n\nexport class MessageErrorsComponent implements OnInit, OnDestroy {\n    @Input() visible: boolean;\n    @Output() visibleChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n\n    loading: boolean = false;\n    message: string = \"\";\n\n\n    constructor(\n        private statusService: StatusService\n        ) {\n    }\n\n    ngOnInit() {\n\n    }\n\n    ngAfterViewInit() {\n        this.loading = false;\n    }\n\n    ngOnChanges(changes) {\n    }\n    \n   \n\n\n    ngOnDestroy() {\n    }\n\n    send() {\n        this.loading = true;\n        this.statusService.sendMessage({\n            message: this.message\n        }).subscribe((data) => {\n            this.loading = false;\n            this.visible = false;\n            this.visibleChange.emit(this.visible);\n        })\n        \n    }\n\n\n    \n    close() {\n        this.visible = false;\n        this.visibleChange.emit(this.visible);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/message_errors/message_errors.component.ts","module.exports = \"<div [@dialog] *ngIf=\\\"visible\\\" class=\\\"dialogerrors\\\" style=\\\"position: fixed;top:0;left:0;width: 100%; height: 100%\\\">\\n    <div style=\\\"width: 100%;height: 100%;background-color: black;opacity: 0.5;\\\"></div>\\n\\n    <div style=\\\"width: 600px;height: 500px;position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    margin: 50px auto;\\\">\\n        <div class=\\\"modal-dialog\\\">\\n            <div class=\\\"modal-content\\\">\\n                <div class=\\\"modal-header\\\">\\n                    <h4 class=\\\"modal-title\\\">Сообщить об ошибке</h4>\\n                </div>\\n                <div class=\\\"modal-body\\\">\\n                    <textarea class=\\\"form-control\\\" [ngModel]=\\\"message\\\" style=\\\"min-height: 200px;\\\"></textarea>\\n                </div>\\n                <div class=\\\"modal-footer\\\">\\n                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"send()\\\" [disabled]=\\\"loading\\\">Отправить</button>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"close()\\\" [disabled]=\\\"loading\\\">Закрыть</button>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <!-- Loading -->\\n        <div *ngIf=\\\"loading\\\" style=\\\"position: absolute;top:0;left:0;width:100%;height:100%;z-index: 100;\\\">\\n            <div style=\\\"position: absolute;opacity: 0;width:100%;height:100%;background-color: white;\\\">\\n            </div>\\n            <div style=\\\"width: 50px;margin: auto;margin-top: 160px;\\\">\\n                <i class=\\\"fa fa-spin fa-gear\\\" style=\\\"font-size: 50px;\\\"></i>\\n            </div>\\n        </div>\\n        <!-- END Loading -->\\n\\n\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/message_errors/message_errors.template.html\n// module id = ../../../../../src/app/components/message_errors/message_errors.template.html\n// module chunks = main","import { Component, OnInit, OnDestroy, Input, Output, \n    OnChanges, ViewChild, ElementRef, EventEmitter } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\n\n\nimport { AppSettings } from '../../app.settings';\nimport { StatusService } from '../../services/status.service';\nimport { DialogsService } from '../../services/dialogs.service';\nimport { WebSocketService } from '../../services/websocket.service';\n\ndeclare var Peer:any;\ndeclare var $:any;\ndeclare const navigator;\n\n@Component({\n  selector: 'modedialogmaster',\n  templateUrl: 'mode_dialog_master.template.html'\n})\n\nexport class ModeDialogMasterComponent implements OnInit, OnDestroy {\n    @Input() public activedialogid;\n    @Output() public stopdialog = new EventEmitter();\n\n    @ViewChild('remoteVideo') private remoteVideo: ElementRef;\n    @ViewChild('localVideo') private localVideo: ElementRef;\n\n    private userMedia = <any>navigator;\n    private activedialog;\n    private peer;\n    private peerid;\n    private user;\n    private loading: boolean = false;\n    private localStream;\n    private answeringCall;\n    private last_message_from_pupil;\n    private status_activedialog = 'starting'; //starting, run, stop\n    private last_hearbeat_from_pupil;\n\n    // продолжительность диалога\n    private during_conversation;\n    private start_converstion;\n\n    private personageName;\n    private _timeout;\n\n    constructor(\n        private statusService: StatusService,\n        private dialogsService: DialogsService,\n        private webSocketService: WebSocketService,\n        private router: Router,\n        ) {\n        var self = this;\n    }\n\n    ngOnInit() {\n        let self = this;\n        self.user = self.statusService.user;\n        self.dialogsService.getActiveDialog(self.activedialogid).subscribe((data) => {\n            self.activedialog = data;\n            self._getPersonageName();\n            self._startPeer();\n\n\n            //console.log('self.activedialog', self.activedialog)\n        })\n\n        \n        self.webSocketService.message.subscribe((data) => {\n            let message = JSON.parse(data);\n            if (message.command == \"DIALOG_STOP\") {\n                self._closeDialog();\n                self.status_activedialog = 'stop';\n            }\n            if (message.command == \"HEARBEAT_DIALOG_PUPIL\") {\n                self.last_hearbeat_from_pupil = new Date();\n                let value = Math.round((self.last_hearbeat_from_pupil - self.start_converstion) / 1000);\n                if (value) {\n                   self.during_conversation = value;\n                }\n            }\n        });\n\n        self._runHearbeatPupil();\n        \n    }\n\n    ngAfterViewInit() {\n    }\n\n    ngOnChanges(changes) {\n    }\n    \n\n\n    ngOnDestroy() {\n    }\n\n    private _getPersonageName() {\n        for (let i = 0; i < this.activedialog.dialog.scenario.personages.length; i++) {\n            if (this.activedialog.dialog.scenario.personages[i].role == 'master') {\n                this.personageName = this.activedialog.dialog.scenario.personages[i].name;\n            }\n        }\n    }\n\n    private _startPeer() {\n        let self = this;\n        self.peer = new Peer({\n            socket: self.webSocketService,\n            host: AppSettings.URL_WEBSOKET_PEER,\n            debug: 0,\n            secure: true,\n            port: 8000,\n            id: self.user.key_id\n        });\n\n        self.peer.on('open', function(id) {\n            self.peerid = id;\n        });\n\n        self.peer.on('error', function(err) {\n            console.log(\"ERROR:\", err.message);\n        });\n\n        // Receiving a call\n        self.peer.on('call', function(receivecall) {\n            self._startLocalVideo(function() {\n                self.status_activedialog = 'run';\n                self.start_converstion = new Date();\n\n                receivecall.answer(self.localStream);\n                self._prepareCall(receivecall);\n            })\n        });\n    }\n\n    private _startLocalVideo(callback) {\n        let self = this;\n        if (!navigator.getUserMedia)\n            this.userMedia.getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n        if (!navigator.cancelAnimationFrame)\n            this.userMedia.cancelAnimationFrame = navigator.webkitCancelAnimationFrame || navigator.mozCancelAnimationFrame;\n        if (!navigator.requestAnimationFrame)\n            this.userMedia.requestAnimationFrame = navigator.webkitRequestAnimationFrame || navigator.mozRequestAnimationFrame;\n       /*\n       {\n                    \"mandatory\": {\n                        \"googEchoCancellation\": \"false\",\n                        \"googAutoGainControl\": \"false\",\n                        \"googNoiseSuppression\": \"false\",\n                        \"googHighpassFilter\": \"false\"\n                    },\n                    \"optional\": []\n                }\n       */\n        this.userMedia.getUserMedia(\n            {\n                audio: true,\n                video: false\n            }, (stream)=>{\n                self.localVideo.nativeElement.src = URL.createObjectURL(stream);\n                self.localStream = stream;\n                if (callback) {\n                    callback();\n                }\n            },\n            (error)=>{\n                console.log(\"ERROR getUserMedia: \", error);\n            });\n    }\n\n\n    private _prepareCall(call) {\n        let self = this;\n        if (self.answeringCall) {\n            self.answeringCall.close();\n        }\n        self.answeringCall = call;\n\n        call.on('stream', function(stream) {\n            // get call stream from remote host\n\n            self.remoteVideo.nativeElement.src = URL.createObjectURL(stream);\n        });\n        \n        call.on('close', function() {\n            console.log(\"CLOSE\");\n            self._closeDialog();\n            \n        });\n\n    }\n\n    private _closeDialog() {\n        let self = this;\n\n        self.status_activedialog = 'stop';\n\n        if (self.answeringCall) {\n            self.answeringCall.close();\n        }\n\n        if (self.localStream) {\n            self.localStream.getTracks().forEach(function (track) {\n                track.stop();\n            });\n            self.localStream.src = \"\";\n        }\n        if (self.remoteVideo.nativeElement.src) {\n            self.remoteVideo.nativeElement.src = \"\";\n        }\n    }\n\n    public exitDialog() {\n        this._closeDialog();\n        this.stopdialog.emit({\n            activedialogid: this.activedialogid,\n            type: 'master'\n        });\n        let self = this;\n        setTimeout(function() {\n            if (self.router.url == '/wait') {\n                self.router.navigate(['/dialogs']);\n            }\n        }, 2000);\n    }   \n\n\n    public hangPhone() {\n        let self = this;\n        this._closeDialog();\n        self.webSocketService.sendCommand({\n            command: \"DIALOG_STOP\",\n            target: self.activedialog.id,\n        })\n\n    } \n\n    public displayTime(_seconds) {\n        let hours   = Math.floor(_seconds / 3600);\n        let minutes = Math.floor((_seconds - (hours * 3600)) / 60);\n        let seconds = _seconds - (hours * 3600) - (minutes * 60);\n        var time = \"\";\n\n        if (hours != 0) {\n          time = hours+\":\";\n        }\n        if (minutes != 0 || time !== \"\") {\n            let sminutes = (minutes < 10 && time !== \"\") ? \"0\"+ minutes : String(minutes);\n            time += sminutes + \":\";\n        }\n        if (time === \"\") {\n            time = seconds + \"сек\";\n        }\n        else {\n            time += (seconds < 10) ? \"0\"+ seconds : String(seconds);\n        }\n        return time;\n    }\n\n\n    private _runHearbeatPupil(): void {\n        let self = this;\n        if (self._checkLastMessageFromPupil) {\n            if (self.webSocketService.ws.socket.readyState == 1) {\n                if (self.answeringCall && self.answeringCall.open) {\n                    self.webSocketService.sendCommand({\n                        command: \"HEARBEAT_DIALOG_MASTER\",\n                        target: self.activedialog.id\n                    })\n                }\n            }\n        }\n        if (self._timeout) {\n            clearTimeout(self._timeout);\n        }\n        self._timeout = setTimeout(function() {\n            self._runHearbeatPupil();\n        }, 4000);\n    }\n\n    private _checkLastMessageFromPupil(): boolean {\n        let self = this;\n        if (new Date(self.last_hearbeat_from_pupil).getTime() + \n                AppSettings.HEARTBEAT_DIALOG_TIMEOUT < new Date().getTime()) {\n            self.webSocketService.sendCommand({\n                command: \"DIALOG_STOP\",\n                target: self.activedialog.id,\n            })\n            return false;\n        }\n        return true;\n    }\n\n    private handlerChangeActiveDialog(activedialog) {\n        this.activedialog = activedialog;\n        this.activedialogid = activedialog.id;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/mode_dialog_master/mode_dialog_master.component.ts","module.exports = \" <div class=\\\"panel panel-default\\\">\\n     <div class=\\\"panel-heading\\\">\\n        <div class=\\\"container\\\">\\n            <div class=\\\"col-md-6\\\">\\n                <h4>Диалог: \\n                    <span *ngIf=\\\"activedialog\\\">{{activedialog.dialog?.name}}</span>\\n                    <span *ngIf=\\\"!activedialog\\\">загружается</span>\\n                </h4>\\n                <p>Роль: ведущий</p>\\n                <p *ngIf=\\\"status_activedialog=='run'\\\"  style=\\\"font-size: 12px;color:green;\\\">Диалог запущен</p>\\n                <p *ngIf=\\\"status_activedialog=='stop'\\\" style=\\\"font-size: 12px;color:red;\\\">Диалог остановлен</p>\\n                <p *ngIf=\\\"status_activedialog=='starting'\\\" style=\\\"font-size: 12px;color:blue;\\\">Диалог запускается</p>\\n            </div>\\n            <div class=\\\"col-md-6\\\" style=\\\"text-align: right;\\\">\\n                <p *ngIf=\\\"personageName\\\" style=\\\"margin: 0 40px;\\\">Персонаж: {{personageName}}</p>\\n                <p *ngIf=\\\"during_conversation\\\" style=\\\"margin: 0 40px;font-size: 8px;\\\">{{displayTime(during_conversation)}}</p>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n\\n        <div [hidden]=\\\"status_activedialog != 'run'\\\" class=\\\"row\\\">\\n            <div class=\\\"pull-right\\\" style=\\\"display1: flex;justify-content: flex-end;\\\">\\n                \\n\\n                <div class=\\\"pull-right1\\\" style=\\\"display: flex;opacity: 0;height: 0;\\\">\\n                    <div style=\\\"margin: 5px;\\\">\\n                        <video #remoteVideo autoplay=\\\"\\\" style=\\\"border:2px solid red;width: 100px;\\\"></video>\\n                        <p style=\\\"font-size: 8px;margin-top: -5px;\\\">Remote</p>\\n                    </div>\\n                    <div style=\\\"margin: 5px;\\\">\\n                        <video #localVideo muted=\\\"true\\\" autoplay=\\\"\\\" style=\\\"border:2px solid green;width: 100px;\\\"></video>\\n                        <p style=\\\"font-size: 8px;margin-top: -5px;\\\">Local</p>\\n                    </div>\\n                </div>\\n\\n                <button  *ngIf=\\\"status_activedialog=='run'\\\" class=\\\"btn btn-warning\\\" (click)=\\\"hangPhone()\\\">\\n                    <i class=\\\"fa fa-microphone-slash\\\" aria-hidden=\\\"true\\\" style=\\\"margin-right: 10px;\\\"></i><span>Остановить диалог</span>\\n                </button>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"row\\\" *ngIf=\\\"activedialog\\\">\\n            <playerdialogmaster [user]=\\\"user\\\" [activedialog]=\\\"activedialog\\\" (changeactivedialog)=\\\"handlerChangeActiveDialog($event)\\\"></playerdialogmaster>\\n        </div>\\n        \\n        <div style=\\\"margin-top: 30px\\\">\\n            \\n            <button class=\\\"btn btn-warning\\\" (click)=\\\"exitDialog()\\\"><span>Выход из режима диалога</span></button>\\n        </div>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/mode_dialog_master/mode_dialog_master.template.html\n// module id = ../../../../../src/app/components/mode_dialog_master/mode_dialog_master.template.html\n// module chunks = main","import { Component, OnInit, OnDestroy, Input, Output, \n    OnChanges, ViewChild, ElementRef, EventEmitter } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\n\n\nimport { StatusService } from '../../services/status.service';\nimport { AppSettings } from '../../app.settings';\nimport { DialogsService } from '../../services/dialogs.service';\nimport { WebSocketService } from '../../services/websocket.service';\n\n\ndeclare var Peer:any;\ndeclare var $:any;\ndeclare const navigator;\n\n@Component({\n  selector: 'modedialogpupil',\n  templateUrl: 'mode_dialog_pupil.template.html'\n})\n\nexport class ModeDialogPupilComponent implements OnInit, OnDestroy {\n    @Input() public activedialogid;\n    @Output() public stopdialog = new EventEmitter();\n\n    @ViewChild('remoteVideo') private remoteVideo: ElementRef;\n    @ViewChild('localVideo') private localVideo: ElementRef;\n\n    public userMedia = <any>navigator;\n    activedialog;\n    peer;\n    peerid;\n    user;\n    loading: boolean = false;\n    localStream;\n    callingCall;\n    status_activedialog = 'starting';\n    last_hearbeat_from_master;\n    // продолжительность диалога\n    during_conversation;\n    start_converstion;\n\n    private personageName;\n\n\n    private _timeout;\n\n    constructor(\n        private statusService: StatusService,\n        private dialogsService: DialogsService,\n        private webSocketService: WebSocketService\n        ) {\n        var self = this;\n    }\n\n    ngOnInit() {\n        let self = this;\n        self.user = self.statusService.user;\n        self.dialogsService.getActiveDialog(self.activedialogid).subscribe((data) => {\n            self.activedialog = data;\n            self._getPersonageName();\n            self._startPeer();\n        })\n\n        self.webSocketService.message.subscribe((data) => {\n            let message = JSON.parse(data);\n            if (message.command == \"DIALOG_STOP\") {\n                self._closeDialog();\n                self.status_activedialog = 'stop';\n            }\n            if (message.command == \"HEARBEAT_DIALOG_MASTER\") {\n                self.last_hearbeat_from_master = new Date();\n                let value = Math.round((self.last_hearbeat_from_master - self.start_converstion) / 1000);\n                if (value) {\n                   self.during_conversation = value;\n                }\n            }\n        });\n\n\n        self._runHearbeatPupil();\n\n\n        \n    }\n\n    ngAfterViewInit() {\n        \n    }\n\n    ngOnChanges(changes) {\n    }\n    \n\n\n    ngOnDestroy() {\n    }\n\n    private _getPersonageName() {\n        for (let i = 0; i < this.activedialog.dialog.scenario.personages.length; i++) {\n            if (this.activedialog.dialog.scenario.personages[i].role == 'pupil') {\n                this.personageName = this.activedialog.dialog.scenario.personages[i].name;\n            }\n        }\n    }\n\n    private _startPeer() {\n        let self = this;\n\n\n        self.peer = new Peer({\n            socket: self.webSocketService,\n            host: AppSettings.URL_WEBSOKET_PEER,\n            debug: 0,\n            secure: true,\n            port: 8000,\n            id: self.user.key_id\n        });\n\n        self.peer.on('open', function(id) {\n            //console.log('Peer: My peer ID is: ' + id);\n            self.peerid = id;\n\n            self._startLocalVideo(function() {\n                let call = self.peer.call(self.activedialog.master.key_id, self.localStream);\n                self._prepareCall(call);\n            })\n            \n        });\n\n        self.peer.on('error', function(err) {\n            console.log(\"ERROR:\", err.message);\n        });\n\n        // Receiving a call\n        self.peer.on('call', function(call) {\n            //console.log('Receiving a call')\n            // ответный звонок на вызов\n        });\n    }\n\n    private _startLocalVideo(callback) {\n        let self = this;\n        if (!navigator.getUserMedia)\n            this.userMedia.getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n        if (!navigator.cancelAnimationFrame)\n            this.userMedia.cancelAnimationFrame = navigator.webkitCancelAnimationFrame || navigator.mozCancelAnimationFrame;\n        if (!navigator.requestAnimationFrame)\n            this.userMedia.requestAnimationFrame = navigator.webkitRequestAnimationFrame || navigator.mozRequestAnimationFrame;\n\n        /*\n        {\n                    \"mandatory\": {\n                        \"googEchoCancellation\": \"false\",\n                        \"googAutoGainControl\": \"false\",\n                        \"googNoiseSuppression\": \"false\",\n                        \"googHighpassFilter\": \"false\"\n                    },\n                    \"optional\": []\n                }\n        */\n\n        this.userMedia.getUserMedia(\n            {\n                audio: true,\n                video: false\n            }, (stream)=>{\n                self.localVideo.nativeElement.src =  URL.createObjectURL(stream);\n                self.localStream = stream;\n                if (callback) {\n                    callback();\n                }\n            },\n            (error)=>{\n                console.log(\"ERROR getUserMedia: \", error);\n            });\n    }\n\n    private _prepareCall(call) {\n        let self = this;\n        if (self.callingCall) {\n            self.callingCall.close();\n        }\n        self.callingCall = call;\n\n        call.on('stream', function(stream) {\n            //console.log('got stream')\n            // get call stream from remote host\n            self.remoteVideo.nativeElement.src = URL.createObjectURL(stream); \n            self.status_activedialog = 'run';\n            self.start_converstion = new Date();\n        });\n        \n        call.on('close', function() {\n            console.log(\"CLOSE\");\n            self._closeDialog();\n        });\n\n    }\n\n    private _closeDialog() {\n        let self = this;\n\n        self.status_activedialog = 'stop';\n\n        if (self.callingCall) {\n            self.callingCall.close();\n        }\n\n        if (self.localStream) {\n            self.localStream.getTracks().forEach(function (track) {\n                track.stop();\n            });\n            self.localStream.src = \"\";\n        }\n        if (self.remoteVideo.nativeElement.src) {\n            self.remoteVideo.nativeElement.src = \"\";\n        }\n\n    }\n\n\n    public exitDialog() {\n        this._closeDialog();\n        this.stopdialog.emit({\n            activedialogid: this.activedialogid,\n            type: 'pupil'\n        });\n        \n    }    \n\n    public hangPhone() {\n        let self = this;\n        this._closeDialog();\n        self.webSocketService.sendCommand({\n            command: \"DIALOG_STOP\",\n            target: self.activedialog.id,\n        })\n    } \n\n    public displayTime(_seconds) {\n        let hours   = Math.floor(_seconds / 3600);\n        let minutes = Math.floor((_seconds - (hours * 3600)) / 60);\n        let seconds = _seconds - (hours * 3600) - (minutes * 60);\n        var time = \"\";\n\n        if (hours != 0) {\n          time = hours+\":\";\n        }\n        if (minutes != 0 || time !== \"\") {\n            let sminutes = (minutes < 10 && time !== \"\") ? \"0\"+ minutes : String(minutes);\n            time += sminutes + \":\";\n        }\n        if (time === \"\") {\n            time = seconds + \"сек\";\n        }\n        else {\n            time += (seconds < 10) ? \"0\"+ seconds : String(seconds);\n        }\n        return time;\n    }\n\n    private _runHearbeatPupil(): void {\n        let self = this;\n        if (self._checkLastMessageFromPupil) {\n            if (self.webSocketService.ws.socket.readyState == 1) {\n                if (self.callingCall && self.callingCall.open) {\n                    self.webSocketService.sendCommand({\n                        command: \"HEARBEAT_DIALOG_PUPIL\",\n                        target: self.activedialog.id\n                    })\n                }\n            }\n        }\n        if (self._timeout) {\n            clearTimeout(self._timeout);\n        }\n        self._timeout = setTimeout(function() {\n            self._runHearbeatPupil();\n        }, 4000);\n    }\n\n    private _checkLastMessageFromPupil(): boolean {\n        let self = this;\n        if (new Date(self.last_hearbeat_from_master).getTime() + \n                AppSettings.HEARTBEAT_DIALOG_TIMEOUT < new Date().getTime()) {\n            self.webSocketService.sendCommand({\n                command: \"DIALOG_STOP\",\n                target: self.activedialog.id,\n            })\n            return false;\n        }\n        return true;\n    }\n\n\n    private handlerChangeActiveDialog(activedialog) {\n        this.activedialog = activedialog;\n        this.activedialogid = activedialog.id;\n        console.log('this.activedialog ', this.activedialog )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/mode_dialog_pupil/mode_dialog_pupil.component.ts","module.exports = \" <div class=\\\"panel panel-default\\\">\\n     <div class=\\\"panel-heading\\\">\\n        <div class=\\\"container\\\">\\n            <div class=\\\"col-md-6\\\">\\n                <h4>Диалог \\n                    <span *ngIf=\\\"activedialog\\\">{{activedialog.dialog.name}}</span>\\n                    <span *ngIf=\\\"!activedialog\\\">загружается</span>\\n                </h4>\\n                <p>Роль: ученик</p>\\n                <p *ngIf=\\\"status_activedialog=='run'\\\"  style=\\\"font-size: 12px;color:green;\\\">Диалог запущен</p>\\n                <p *ngIf=\\\"status_activedialog=='stop'\\\" style=\\\"font-size: 12px;color:red;\\\">Диалог остановлен</p>\\n                <p *ngIf=\\\"status_activedialog=='starting'\\\" style=\\\"font-size: 12px;color:blue;\\\">Диалог запускается</p>\\n            </div>\\n            <div class=\\\"col-md-6\\\" style=\\\"text-align: right;\\\">\\n                <p *ngIf=\\\"personageName\\\" style=\\\"margin: 0 40px;\\\">Персонаж: {{personageName}}</p>\\n                <p *ngIf=\\\"during_conversation\\\" style=\\\"margin: 0 40px;font-size: 8px;\\\">{{displayTime(during_conversation)}}</p>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n\\n        <!-- Loading -->\\n        <div *ngIf=\\\"loading\\\" style=\\\"position: absolute;top:0;left:0;width:100%;height:100%;z-index: 100;\\\">\\n            <div style=\\\"position: absolute;opacity: 0.5;width:100%;height:100%;background-color: white;\\\">\\n            </div>\\n            <div style=\\\"width: 50px;margin: auto;margin-top: 60px;\\\">\\n                <i class=\\\"fa fa-spin fa-gear\\\" style=\\\"font-size: 50px;\\\"></i>\\n            </div>\\n        </div>\\n        <!-- END Loading -->\\n\\n        <div [hidden]=\\\"status_activedialog != 'run'\\\" class=\\\"row\\\">\\n            <div class=\\\"pull-right\\\" style=\\\"display: flex;justify-content: flex-end;opacity: 0;height: 0;\\\">\\n                <div style=\\\"margin: 5px;\\\">\\n                    <video #remoteVideo autoplay=\\\"\\\" style=\\\"border:2px solid red;width: 100px;\\\"></video>\\n                    <p style=\\\"font-size: 8px;margin-top: -5px;\\\">Remote</p>\\n                </div>\\n                <div style=\\\"margin: 5px;\\\">\\n                    <video #localVideo muted=\\\"true\\\" autoplay=\\\"\\\" style=\\\"border:2px solid green;width: 100px;\\\"></video>\\n                    <p style=\\\"font-size: 8px;margin-top: -5px;\\\">Local</p>\\n                </div>\\n            </div>\\n            <button  *ngIf=\\\"status_activedialog=='run'\\\" class=\\\"btn btn-warning\\\" (click)=\\\"hangPhone()\\\">\\n                <i class=\\\"fa fa-microphone-slash\\\" aria-hidden=\\\"true\\\" style=\\\"margin-right: 10px;\\\"></i><span>Остановить диалог</span>\\n            </button>\\n        </div>\\n\\n        <div class=\\\"row\\\" *ngIf=\\\"activedialog\\\">\\n            <playerdialogpupil [activedialog]=\\\"activedialog\\\" (changeactivedialog)=\\\"handlerChangeActiveDialog($event)\\\"></playerdialogpupil>\\n        </div>\\n        \\n        <div style=\\\"margin-top: 30px\\\">\\n            <!--\\n             <button *ngIf=\\\"status_activedialog=='run'\\\" class=\\\"btn btn-warning\\\" (click)=\\\"hangPhone()\\\"><span>Остановить диалог</span></button>\\n         -->\\n            <button class=\\\"btn btn-warning\\\" (click)=\\\"exitDialog()\\\"><span>Выход из режима диалога</span></button>\\n        </div>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/mode_dialog_pupil/mode_dialog_pupil.template.html\n// module id = ../../../../../src/app/components/mode_dialog_pupil/mode_dialog_pupil.template.html\n// module chunks = main","import { Component, OnInit, OnDestroy, Input, Output, \n    OnChanges, ViewChild, ElementRef, EventEmitter, ChangeDetectorRef,\n    ViewRef } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\n\n\nimport { AppSettings } from '../../app.settings';\nimport { StatusService } from '../../services/status.service';\nimport { DialogsService } from '../../services/dialogs.service';\nimport { WebSocketService } from '../../services/websocket.service';\n\ndeclare var Peer:any;\ndeclare var $:any;\ndeclare const navigator;\n\n@Component({\n  selector: 'playerdialogmaster',\n  templateUrl: 'player_dialog_master.template.html'\n})\n\nexport class PlayerDialogMasterComponent implements OnInit, OnDestroy {\n    @Input() public activedialog;\n    @Input() public user;\n    @Output() public stopdialog = new EventEmitter();\n    @Output() public changeactivedialog = new EventEmitter();\n\n    private current_step;\n    private current_step_id;\n    private current_mode = 1; // 1 - ожидание хода 2 - мой ход\n    private currentPersonage;\n    private open_change_dialog:boolean = false;\n\n    private passed_turns = {\n        master: false,\n        pupil: false\n    }\n\n    private loading: boolean = false;\n\n    constructor(\n        private statusService: StatusService,\n        private dialogsService: DialogsService,\n        private webSocketService: WebSocketService,\n        private ref: ChangeDetectorRef\n        ) {\n        var self = this;\n    }\n\n    ngOnInit() {\n        let self = this;\n\n        //console.log('user', self.user)\n\n        self.webSocketService.message.subscribe((data) => {\n            let message = JSON.parse(data);\n\n            if (message.command == \"CHANGE_DIALOG\") {\n                self.loading = true;\n                self.dialogsService.getActiveDialog(message.activedialodid).subscribe((activedialog)=> {\n                    self.loading = false;\n                    self.changeactivedialog.emit(activedialog);\n                    self.passed_turns.master = false;\n                    self.passed_turns.pupil = false;\n                    self.activedialog = activedialog;\n                    self.current_step_id = self.activedialog.dialog.scenario.steps[0].id;\n                    self._setStartStepPersonage(self.current_step_id);\n                    self.current_step = self.activedialog.dialog.scenario.steps[0][self.currentPersonage];\n                    self._detectChanges();\n\n                })\n                self._detectChanges();\n            }\n\n            //console.log('message', message)\n            if (message.command == \"SET_STEP\") {\n                self.passed_turns.master = false;\n                self.passed_turns.pupil = false;\n\n                if (message.STEP_ID > 0) {\n                    self.current_step_id = message.STEP_ID;\n                    self._setStartStepPersonage(self.current_step_id)\n                    self.current_step = self._getNextStep(message.STEP_ID);\n                }\n                self._detectChanges();\n            }\n\n            if (message.command == \"CHANGE_PERSONAGE\") {\n                if (self.currentPersonage == 'pupil') {\n                    self.currentPersonage = 'master';\n                    self.passed_turns.master = true;\n                } else {\n                    self.currentPersonage = 'pupil';\n                     self.passed_turns.pupil = true;\n                }\n                if (self.current_mode == 1) {\n                    self.current_mode = 2;\n                } else {\n                    self.current_mode = 1;\n                }\n                self.current_step = self._getNextStep(self.current_step_id);\n                self._detectChanges();\n            }\n\n\n        });\n        self.current_step_id = this.activedialog.dialog.scenario.steps[0].id;\n        self._setStartStepPersonage(self.current_step_id);\n        self.current_step = this.activedialog.dialog.scenario.steps[0][this.currentPersonage];\n        self._detectChanges();\n\n    }\n\n    ngAfterViewInit() {\n    }\n\n    ngOnDestroy() {\n        this.ref.detach();\n        //this.webSocketService.message.unsubscribe();\n    }\n\n\n    private _detectChanges() {\n        // Programmatically run change detection to fix issue in Safari\n        setTimeout(() => {\n            if ( this.ref !== null &&\n                this.ref !== undefined &&\n                ! (this.ref as ViewRef).destroyed ) {\n                    this.ref.detectChanges();\n            }\n        }, 250);\n    }\n\n\n    private _setStartStepPersonage(next_step_id) {\n        let step = this._getStep(next_step_id)\n        if (step.start_personage == 'pupil') {\n            this.current_mode = 1;  // Ожидаем ход игрока\n            this.currentPersonage = 'pupil';\n            this.passed_turns.pupil = true;\n        } else if (step.start_personage == 'master') {\n            this.current_mode = 2;\n            this.currentPersonage = 'master';\n            this.passed_turns.master = true;\n        }\n    }\n    \n    private _getNextStep(next_step_id) {\n        if (next_step_id) {\n            let step  = this._getStep(next_step_id);\n            if (step) {\n                return step[this.currentPersonage];\n            }\n        }\n    }\n\n\n\n    private _getStep(step_id) {\n        for (var i = 0; i < this.activedialog.dialog.scenario.steps.length; i++) {\n            if (this.activedialog.dialog.scenario.steps[i].id == step_id) {\n                return this.activedialog.dialog.scenario.steps[i];\n            } \n        }\n    }\n\n\n    private _shuffle(a) {\n        for (let i = a.length; i; i--) {\n            let j = Math.floor(Math.random() * i);\n            [a[i - 1], a[j]] = [a[j], a[i - 1]];\n        }\n    }\n\n    private getWords(item) {\n        item.words = item.phrase.split(' ');\n        this._shuffle(item.words);\n        this._shuffle(item.words);\n    }\n\n    private clearWords(item) {\n        item.words = [];\n    }\n\n    private getHints(item) {\n        item.hints = item.phrase;\n    }\n    private clearHints(item) {\n        item.hints = null;\n    }\n\n    private nextStep(next_id) {\n\n        let command = {\n            command: 'NEXTSTEP',\n            nextstep: next_id,\n            activedialogid: this.activedialog.id,\n            source: this.user.key_id\n        }\n        this.webSocketService.sendCommand(command)\n    }\n\n    private myTurn() {\n        let command = {\n            command: 'CHANGE_PERSONAGE',\n            activedialogid: this.activedialog.id,\n            source: this.user.key_id\n        }\n        this.webSocketService.sendCommand(command)\n    }\n\n    private pupilTurn() {\n        let command = {\n            command: 'CHANGE_PERSONAGE',\n            activedialogid: this.activedialog.id,\n            source: this.user.key_id\n        }\n        this.webSocketService.sendCommand(command)\n    }\n\n    private hasNextTurn(item) {\n        if (item.next_step > 0) {\n            let next_step = this._getStep(item.next_step);\n            if (next_step.pupil && next_step.pupil.variants && next_step.pupil.variants.length > 0) {\n                return true;\n            }\n        }\n        return  false;\n    }\n\n    private hasMyTurn() {\n        let current_step = this._getStep(this.current_step_id);\n        if (current_step.master && current_step.master.variants && current_step.master.variants.length > 0) {\n            return true;\n        }\n        return false;\n    }\n\n    private hasPlayerTurn() {\n        let current_step = this._getStep(this.current_step_id);\n        if (current_step.pupil && current_step.pupil.variants && current_step.pupil.variants.length > 0) {\n            let has_next = false\n            for (let i = 0; i < current_step.pupil.variants.length; i++)  {\n                if (current_step.pupil.variants[i].next_step && current_step.pupil.variants[i].next_step > -1) {\n                    has_next = true;\n                    break;\n                }\n            }\n            if (has_next) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private openChangeDialog() {\n        this.open_change_dialog = !this.open_change_dialog;\n    }\n\n\n\n\n    private handlerCloseChangeCurrentDialog(result) {\n        if (!result) {\n            this.open_change_dialog = false;\n        }\n    }\n\n    private handlerSelectDialog(activedialog) {\n        this.open_change_dialog = false;\n        let command = {\n            command: 'CHANGE_DIALOG',\n            current_activedialogid: this.activedialog.id,\n            next_activedialogid: activedialog.id,\n        }\n        this.webSocketService.sendCommand(command)\n    } \n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/player_dialog_master/player_dialog_master.component.ts","module.exports = \"<div class=\\\"row\\\">\\n    <div class=\\\"container\\\">\\n        <button *ngIf=\\\"activedialog\\\" type=\\\"button\\\" class=\\\"btn btn-info pull-right\\\" style=\\\"margin: 0 20px 20px 20px;\\\" (click)=\\\"openChangeDialog()\\\">Сменить текущий диалог</button>\\n        <div style=\\\"margin: 20px;clear: both\\\">\\n            <div *ngIf=\\\"activedialog.dialog && activedialog.dialog.scenario\\\" class=\\\"panel panel-primary\\\">\\n                <div class=\\\"panel-heading\\\">\\n                    Текущий шаг: {{current_step.number}}\\n                </div>\\n                <div *ngIf=\\\"current_mode == 2\\\" class=\\\"panel-body\\\" style=\\\"min-height: 200px;\\\">\\n                    <h3 style=\\\"text-align: center;\\\">Ваш ход</h3>\\n\\n                    <span>Вам нужно сказать:</span> \\n                    <div *ngFor=\\\"let item of current_step.variants\\\">\\n                        <div class=\\\"well\\\">\\n                            <h4 class=\\\"text-success\\\">{{item.task}}</h4>\\n                        </div>\\n                        <div>\\n                            <h4 *ngIf=\\\"!passed_turns.pupil\\\" class=\\\"text-warning\\\" style=\\\"text-align: center;\\\">Ход игрока еще не был сделан</h4>\\n                           \\n                            <button *ngIf=\\\"item.prev_step > 0\\\" class=\\\"btn btn-info\\\" type=\\\"button\\\" (click)=\\\"nextStep(item.prev_step)\\\">Назад</button>\\n                            \\n                            <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" (click)=\\\"pupilTurn()\\\">Ход игрока</button>\\n\\n                            <button *ngIf=\\\"hasNextTurn(item)\\\" class=\\\"btn btn-success pull-right\\\" type=\\\"button\\\" (click)=\\\"nextStep(item.next_step)\\\">Следуюйщий шаг</button>\\n                        </div>\\n\\n                        <h2 *ngIf=\\\"!hasNextTurn(item)\\\" class=\\\"text-warning\\\" style=\\\"text-align: center;\\\">Это последний шаг диалога</h2>\\n                        \\n\\n                        <div style=\\\"margin-top:40px\\\">\\n                            <button *ngIf=\\\"!item.words || (item.words && item.words.length == 0)\\\" class=\\\"btn btn-info btn-xs\\\" type=\\\"button\\\" (click)=\\\"getWords(item)\\\">Посмотреть слова</button>\\n                             <button *ngIf=\\\"item.words && item.words.length > 0\\\" class=\\\"btn btn-info btn-xs\\\" type=\\\"button\\\" (click)=\\\"clearWords(item)\\\">Скрыть слова</button>\\n                            <button *ngIf=\\\"!item.hints\\\"  class=\\\"btn btn-default btn-xs\\\" type=\\\"button\\\" (click)=\\\"getHints(item)\\\">Посмотреть подсказку</button>\\n                            <button *ngIf=\\\"item.hints\\\" class=\\\"btn btn-default btn-xs\\\" type=\\\"button\\\" (click)=\\\"clearHints(item)\\\">Убрать подсказку</button>\\n                        </div>\\n\\n                        <div *ngIf=\\\"item.words && item.words.length > 0\\\" \\n                            style=\\\"margin-top:20px;display: flex;justify-content: center;flex-wrap: wrap;\\\">\\n                            <span *ngFor=\\\"let item of item.words\\\" class=\\\"label label-success\\\" style=\\\"margin: 10px;padding: 10px;font-size: 16px;\\\">{{item}}</span>\\n                        </div>\\n                        <div *ngIf=\\\"item.hints\\\" style=\\\"margin-top:20px;\\\">\\n                            <p class=\\\"alert alert-success\\\" style=\\\"margin: 5px 0;\\\">\\n                                {{item.hints}}\\n                            </p>\\n                        </div>\\n                    </div> \\n                </div>\\n                <div *ngIf=\\\"current_mode == 1\\\" class=\\\"panel-body\\\" style=\\\"min-height: 200px;\\\">\\n                    <h3 style=\\\"text-align: center;\\\">Ожидаем ход игрока</h3>\\n                    <span>Ему нужно сказать:</span> \\n                    <div *ngFor=\\\"let item of current_step.variants\\\">\\n                        <div class=\\\"well\\\">\\n                            <p class=\\\"text-success\\\">{{item.task}}</p>\\n                        </div>\\n                        <div class=\\\"well\\\">\\n                            <p class=\\\"\\\" style=\\\"margin: 5px 0;\\\">{{item.phrase}}</p>\\n                        </div>\\n\\n                         <h4 *ngIf=\\\"hasNextTurn(item) && !passed_turns.master\\\" class=\\\"text-warning\\\" style=\\\"text-align: center;\\\">Ваш ход еще не был сделан</h4>\\n\\n\\n                        <button *ngIf=\\\"hasMyTurn()\\\" class=\\\"btn btn-warning\\\" type=\\\"button\\\" (click)=\\\"myTurn()\\\">Теперь мой ход</button>\\n                        <button *ngIf=\\\"hasNextTurn(item)\\\" class=\\\"btn btn-success pull-right\\\" type=\\\"button\\\" (click)=\\\"nextStep(item.next_step)\\\">Следуюйщий шаг</button>\\n\\n                        <h2 *ngIf=\\\"!hasPlayerTurn(item)\\\" class=\\\"text-warning\\\" style=\\\"text-align: center;\\\">Это последний шаг диалога</h2>\\n                        <button *ngIf=\\\"!hasPlayerTurn(item) && item.prev_step > 0\\\" class=\\\"btn btn-info\\\" type=\\\"button\\\" (click)=\\\"nextStep(item.prev_step)\\\">Назад</button>\\n                        \\n                    </div> \\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div *ngIf=\\\"open_change_dialog\\\">\\n    <changecurrentdialog (close_dialog)=\\\"handlerCloseChangeCurrentDialog($event)\\\" (selected_dialog)=\\\"handlerSelectDialog($event)\\\"></changecurrentdialog>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/player_dialog_master/player_dialog_master.template.html\n// module id = ../../../../../src/app/components/player_dialog_master/player_dialog_master.template.html\n// module chunks = main","import { Component, OnInit, OnDestroy, Input, Output, \n    OnChanges, ViewChild, ElementRef, EventEmitter, ChangeDetectorRef,\n    ViewRef } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\n\n\nimport { AppSettings } from '../../app.settings';\nimport { StatusService } from '../../services/status.service';\nimport { DialogsService } from '../../services/dialogs.service';\nimport { WebSocketService } from '../../services/websocket.service';\n\ndeclare var Peer:any;\ndeclare var $:any;\ndeclare const navigator;\n\n@Component({\n  selector: 'playerdialogpupil',\n  templateUrl: 'player_dialog_pupil.template.html'\n})\n\nexport class PlayerDialogPupilComponent implements OnInit, OnDestroy {\n    @Input() public activedialog;\n    @Output() public stopdialog = new EventEmitter();\n    @Output() public changeactivedialog = new EventEmitter();\n\n    public current_step;\n    public current_step_id;\n    public current_mode; // 1 - ожидание хода 2 - мой ход\n    public currentPersonage;\n    public show_master_text = false;\n\n    private loading = false;\n    \n\n    constructor(\n        private statusService: StatusService,\n        private dialogsService: DialogsService,\n        private webSocketService: WebSocketService,\n        private ref: ChangeDetectorRef\n        ) {\n        var self = this;\n    }\n\n    ngOnInit() {\n        let self = this;\n\n        self.webSocketService.message.subscribe((data) => {\n            let message = JSON.parse(data);\n\n            if (message.command == \"CHANGE_DIALOG\") {\n                self.loading = true;\n                console.log(\"!!!!!!\")\n                self.dialogsService.getActiveDialog(message.activedialodid).subscribe((activedialog)=> {\n                    console.log('pupil activedialog', activedialog)\n                    self.loading = false;\n                    self.changeactivedialog.emit(activedialog);\n                    self.activedialog = activedialog;\n\n                    self.current_step_id = self.activedialog.dialog.scenario.steps[0].id;\n                    self._setStartStepPersonage(self.current_step_id);\n                    self.current_step = self.activedialog.dialog.scenario.steps[0][self.currentPersonage];\n                    self._detectChanges();\n\n\n\n                })\n                self._detectChanges();\n            }\n\n            if (message.command == \"SET_STEP\") {\n                if (message.STEP_ID > 0) {\n                    self.current_step_id = message.STEP_ID;\n                    self._setStartStepPersonage(self.current_step_id)\n                    self.current_step = self._getNextStep(message.STEP_ID);\n                }\n                self._detectChanges();\n            }\n\n            if (message.command == \"CHANGE_PERSONAGE\") {\n                if (self.currentPersonage == 'pupil') {\n                    self.currentPersonage = 'master';\n                } else {\n                    self.currentPersonage = 'pupil';\n                }\n                if (self.current_mode == 1) {\n                    self.current_mode = 2;\n                } else {\n                    self.current_mode = 1;\n                }\n                self.current_step = self._getNextStep(self.current_step_id);\n                self._detectChanges();\n            }\n\n        });\n    }\n\n    ngAfterViewInit() {\n    }\n\n    ngOnDestroy() {\n        this.ref.detach();\n        //this.webSocketService.message.unsubscribe();\n    }\n\n    \n    private _setStartStepPersonage(next_step_id) {\n        let step = this._getStep(next_step_id)\n        if (step.start_personage == 'pupil') {\n            this.current_mode = 2;\n            this.currentPersonage = 'pupil';\n        } else if (step.start_personage == 'master') {\n            this.current_mode = 1;\n            this.currentPersonage = 'master';\n        }\n    }\n\n    ngOnChanges(changes) {\n        if (changes.activedialog && !changes.activedialog.previousValue) {\n            this.current_step_id = this.activedialog.dialog.scenario.steps[0].id;\n            this._setStartStepPersonage(this.current_step_id);\n            this.current_step = this.activedialog.dialog.scenario.steps[0][this.currentPersonage];\n            this._detectChanges();\n        }\n    }\n\n    private _detectChanges() {\n        // Programmatically run change detection to fix issue in Safari\n        setTimeout(() => {\n            if ( this.ref !== null &&\n                this.ref !== undefined &&\n                ! (this.ref as ViewRef).destroyed ) {\n                    this.ref.detectChanges();\n            }\n\n        }, 250);\n    }\n    \n\n    private _getNextStep(next_step_id) {\n        if (next_step_id) {\n            let step  = this._getStep(next_step_id);\n            if (step) {\n                return step[this.currentPersonage];\n            }\n        }\n    }\n\n    private _getStep(step_id) {\n        for (var i = 0; i < this.activedialog.dialog.scenario.steps.length; i++) {\n            if (this.activedialog.dialog.scenario.steps[i].id == step_id) {\n                return this.activedialog.dialog.scenario.steps[i];\n            } \n        }\n    }\n\n    private _shuffle(a) {\n        for (let i = a.length; i; i--) {\n            let j = Math.floor(Math.random() * i);\n            [a[i - 1], a[j]] = [a[j], a[i - 1]];\n        }\n    }\n\n    private getWords(item) {\n        item.words = item.phrase.split(' ');\n        this._shuffle(item.words);\n        this._shuffle(item.words);\n    }\n\n    private clearWords(item) {\n        item.words = [];\n    }\n\n    private getHints(item) {\n        item.hints = item.phrase;\n    }\n    private clearHints(item) {\n        item.hints = null;\n    }\n\n    \n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/player_dialog_pupil/player_dialog_pupil.component.ts","module.exports = \"<div class=\\\"row\\\">\\n    <div class=\\\"container\\\">\\n        <div style=\\\"margin: 20px;\\\">\\n            <div *ngIf=\\\"activedialog && activedialog.dialog && activedialog.dialog.scenario\\\" class=\\\"panel panel-primary\\\">\\n                <div class=\\\"panel-heading\\\">\\n                    Текущий шаг: {{current_step.number}}\\n                </div>\\n                <div *ngIf=\\\"current_mode == 2\\\" class=\\\"panel-body\\\" style=\\\"min-height: 200px;\\\">\\n                    <h3 style=\\\"text-align: center;\\\">Ваш ход</h3>\\n                    \\n                    <span>Вам нужно сказать:</span> \\n                    <div *ngFor=\\\"let item of current_step.variants\\\">\\n                        <h4 class=\\\"text-success\\\">{{item.task}}</h4>\\n\\n                    \\n                        <div style=\\\"margin-top:40px\\\">\\n                            <button *ngIf=\\\"!item.words || (item.words && item.words.length == 0)\\\" class=\\\"btn btn-info btn-xs\\\" type=\\\"button\\\" (click)=\\\"getWords(item)\\\">Посмотреть слова</button>\\n                             <button *ngIf=\\\"item.words && item.words.length > 0\\\" class=\\\"btn btn-info btn-xs\\\" type=\\\"button\\\" (click)=\\\"clearWords(item)\\\">Скрыть слова</button>\\n                            <button *ngIf=\\\"!item.hints\\\"  class=\\\"btn btn-default btn-xs\\\" type=\\\"button\\\" (click)=\\\"getHints(item)\\\">Посмотреть подсказку</button>\\n                            <button *ngIf=\\\"item.hints\\\" class=\\\"btn btn-default btn-xs\\\" type=\\\"button\\\" (click)=\\\"clearHints(item)\\\">Убрать подсказку</button>\\n                        </div>\\n\\n                        <div *ngIf=\\\"item.words && item.words.length > 0\\\" style=\\\"margin-top:20px;display: flex;justify-content: center;flex-wrap: wrap;\\\">\\n                            <span *ngFor=\\\"let item of item.words\\\" class=\\\"label label-success\\\" style=\\\"margin: 10px;padding: 10px;font-size: 16px;\\\">{{item}}</span>\\n                        </div>\\n                        <div *ngIf=\\\"item.hints\\\" style=\\\"margin-top:20px;\\\">\\n                            <p class=\\\"alert alert-success\\\" style=\\\"margin: 5px 0;\\\">\\n                                {{item.hints}}\\n                            </p>\\n                        </div>\\n                    </div> \\n                </div>\\n                \\n                <!-- ход ведущего -->\\n                <div *ngIf=\\\"current_mode == 1\\\" class=\\\"panel-body\\\" style=\\\"min-height: 200px;\\\">\\n                    <h3 style=\\\"text-align: center;\\\">Ожидаем ход ведущего</h3>\\n                    <button class=\\\"btn btn-info btn-xs\\\" type=\\\"button\\\" (click)=\\\"show_master_text=!show_master_text\\\">Посмотреть слова</button>\\n                    <div *ngIf=\\\"show_master_text\\\">\\n                        <span>Ему нужно сказать:</span> \\n                        <div *ngFor=\\\"let item of current_step.variants\\\">\\n                            <p class=\\\"text-success\\\">{{item.task}}</p>\\n                            <p class=\\\"\\\" style=\\\"margin: 5px 0;\\\">{{item.phrase}}</p>\\n                        </div> \\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/player_dialog_pupil/player_dialog_pupil.template.html\n// module id = ../../../../../src/app/components/player_dialog_pupil/player_dialog_pupil.template.html\n// module chunks = main","import { Component, OnInit, OnDestroy, Input, Output, OnChanges, EventEmitter } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n// import 'jquery-slimscroll';\nimport { FormsModule } from '@angular/forms';\n\n// import { AuthenticationService } from '../../../services/authentication.service';\n\n//declare var jQuery:any;\n\nimport { AppSettings } from '../../app.settings';\n\n@Component({\n  selector: 'callingfroms',\n  templateUrl: 'callingfroms.template.html'\n})\n\nexport class CallingFromsComponent implements OnInit, OnDestroy {\n    @Input() public listin: any = [];\n    @Output() public listout: any = [];\n    @Output() public rejectfrom = new EventEmitter();\n    @Output() public takecall = new EventEmitter();\n    \n\n    loading: boolean = false;\n\n    constructor(\n        ) {\n        var self = this;\n    }\n\n    ngOnInit() {\n        this._checkInterval();\n\n    }\n\n    ngAfterViewInit() {\n        this.loading = false;\n    }\n\n    ngOnChanges(changes) {\n        //console.log('changes', changes)\n        if (this.loading) {\n            this.loading = false;\n        }\n        this._checkInterval();    \n    }\n    \n\n\n    ngOnDestroy() {\n    }\n\n    rejectCall(item) {\n        this.loading = true;\n        this.rejectfrom.emit(item);\n    }\n\n    takeCall(item) {\n        this.loading = true;\n        this.takecall.emit(item.key_id);\n    }\n\n    private _checkInterval() {\n        //console.log('_checkInterval')\n        var self = this;\n        for (let i = 0; i < self.listin.length; i++) {\n            if (new Date(self.listin[i].lasttime).getTime() + AppSettings.CALLING_TIME_INTERVAL < new Date().getTime()) {\n                self.listin.splice(i, 1);\n            }\n        }\n\n        if (this.listin.length > 0) {\n            setTimeout(function() {\n                self._checkInterval();\n            }, 1000);  \n        }\n    }\n    \n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/view_block_calling/callingfroms.component.ts","module.exports = \"<div class=\\\"\\\" *ngFor=\\\"let item of listin\\\">\\n    <div style=\\\"border: 1px solid;padding: 30px;margin:10px;\\\">\\n        <p>Звонок от {{item.fio}}</p>\\n        <p>{{item.lasttime | date:\\\"hh:mm dd-mm-yyyy\\\"}}</p>\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"takeCall(item)\\\" [disabled]=\\\"loading\\\"><span>Принять звонок</span></button>\\n        <button class=\\\"btn btn-default\\\" (click)=\\\"rejectCall(item)\\\" [disabled]=\\\"loading\\\"><span>Сбросить</span></button>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/components/view_block_calling/callingfroms.template.html\n// module id = ../../../../../src/app/components/view_block_calling/callingfroms.template.html\n// module chunks = main","import { Injectable } from '@angular/core';\nimport { Subject, BehaviorSubject, Observable } from 'rxjs';\nimport { Http, Response } from '@angular/http';\nimport { Router } from '@angular/router';\nimport 'rxjs/add/operator/catch';\n\n\nimport { AppSettings } from '../app.settings';\nimport { Dialog } from '../models/dialog';\n\n@Injectable()\nexport class DialogsService {\n\n    dialogs: Observable<Dialog[]>;\n\n    //updates: Subject<any> = new Subject<any>();\n\n    constructor(\n        private _http: Http,\n        private router: Router) {}\n\n    \n    getDialog(dialog_id): Observable<Dialog[]> {\n        return this._http.get(AppSettings.URL_DIALOGS + dialog_id + '/')\n            .map((response: Response) => {\n                return response.json();\n            })\n            .catch(this.handleError.bind(this));\n    }\n\n    getDialogs(): Observable<Dialog[]> {\n        return this._http.get(AppSettings.URL_DIALOGS)\n            .map((response: Response) => {\n                return response.json();\n            })\n            .catch(this.handleError.bind(this));\n    }\n\n    getActiveDialog(activedialog_id): Observable<Dialog[]> {\n        return this._http.get(AppSettings.URL_ACTIVEDIALOGS + activedialog_id + '/')\n            .map((response: Response) => {\n                return response.json();\n            })\n            .catch(this.handleError.bind(this));\n    }\n\n    getActiveDialogs(): Observable<Dialog[]> {\n        return this._http.get(AppSettings.URL_ACTIVEDIALOGS)\n            .map((response: Response) => {\n                return response.json();\n            })\n            .catch(this.handleError.bind(this));\n    }\n\n    getMyActiveDialogs(): Observable<Dialog[]> {\n        return this._http.get(AppSettings.URL_MYACTIVEDIALOGS)\n            .map((response: Response) => {\n                return response.json();\n            })\n            .catch(this.handleError.bind(this));\n    }\n\n    runDialog(dialog_id):any {\n        return this._http.post(AppSettings.URL_DIALOG_RUN + dialog_id + \"/\", {})\n            .map((response: Response) => {\n                return response.json();\n            })\n            .catch(this.handleError.bind(this));\n    }\n\n    stopDialog():any {\n        return this._http.post(AppSettings.URL_DIALOG_STOP, {})\n            .map((response: Response) => {\n                return response.json();\n            })\n            .catch(this.handleError.bind(this));\n    }\n\n    runIntoDialog(dialog_id):any {\n        return this._http.post(AppSettings.URL_DIALOG_RUNINTO + dialog_id + \"/\", {})\n            .map((response: Response) => {\n                return response.json();\n            })\n            .catch(this.handleError.bind(this));\n    }\n\n    stopActiveDialog(dialog_id):any {\n        return this._http.post(AppSettings.URL_DIALOG_ACTIVESTOP + dialog_id + \"/\", {})\n            .map((response: Response) => {\n                return response.json();\n            })\n            .catch(this.handleError.bind(this));\n    }\n\n\n    private handleError(error: Response) {\n        console.error(error);\n        if (error.status == 403) {\n            console.log(\"XXXX\")\n            this.router.navigate(['/accounts/login/']);\n        }\n        if (error.status == 404) {\n            this.router.navigate(['/dialogs/']);\n        }\n        //error.json().error || \n        return Observable.throw('Server error');\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/services/dialogs.service.ts","import { Injectable, EventEmitter } from \"@angular/core\";\n\n\n\n@Injectable()\nexport class ErrorService {\n    errors = {};\n    errors_update: EventEmitter<any> = new EventEmitter();\n\n    messages = [];\n    messages_update: EventEmitter<any> = new EventEmitter();\n\n    constructor() {\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/services/error.service.ts","import { Injectable } from '@angular/core';\nimport { Router, CanActivate } from '@angular/router';\n\nimport { StatusService } from './status.service';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n\n    constructor(\n        private router: Router,\n        private statusService: StatusService\n        ) { }\n\n    canActivate() {\n        return true;\n        \n        \n        /*        \n        if (localStorage.getItem('currentUser')) {\n            // logged in so return true\n            return true;\n        }\n\n        // not logged in so redirect to login page\n        this.router.navigate(['/login']);\n        return false;\n        */\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/services/guards.service.ts","import { Injectable, EventEmitter } from '@angular/core';\nimport { Subject, BehaviorSubject, Observable } from 'rxjs';\nimport { Http, Response } from '@angular/http';\nimport { Router } from '@angular/router';\n\n\nimport { AppSettings } from '../app.settings';\nimport { Dialog } from '../models/dialog';\nimport { WebSocketService } from './websocket.service';\n\n\n@Injectable()\nexport class StatusService {\n\n    ready: EventEmitter<any> = new EventEmitter();\n    calling: EventEmitter<any> = new EventEmitter();\n\n    user;\n    mode: string = 'mode_list';\n    activedialog;\n    runhearbeatid;\n    runcheckloginid;\n\n    constructor(\n        private _http: Http,\n        private webSocketService: WebSocketService,\n        private router: Router\n        ) {}\n\n\n    init() {\n        let self = this;\n        this.getStatus().subscribe((data) => {\n            self.user = data.user;\n            if (data.status) {\n                if (data.activedialog) {\n                    self.activedialog = data.activedialog;\n                }\n            }\n            self.webSocketService.init(self.user.key_id, function() {\n                self.ready.emit(new Date());\n                self.runHearbeat();\n                self.runCheckLogin();\n            });\n        });\n\n\n        self.webSocketService.message.subscribe((data) => {\n            let message = JSON.parse(data);\n            if (message.command == 'CALLING') {\n                if (message.target == 'TAKEPHONE') {\n                    self.calling.emit(message);\n                }\n            }\n            \n        })\n    }\n    \n    getStatus(): any {\n        return this._http.get(AppSettings.URL_STATUS)\n            .map((response: Response) => {\n                return response.json();\n            })\n            .catch(this.handleError);\n    }\n\n    runHearbeat(): void {\n        let self = this;\n        if (this.webSocketService.ws.socket.readyState == 1) {\n            self.webSocketService.sendCommand({\n                type: \"HEARBEAT\",\n            })\n            if (self.runhearbeatid) {\n                clearTimeout(self.runhearbeatid);\n            }\n\n            self.runhearbeatid = setTimeout(function() {\n                self.runHearbeat();\n            }, 20000);\n        }\n    }\n\n    runCheckLogin(): void {\n        let self = this;\n        this._http.get(AppSettings.URL_CHECK_USER)\n            .map((response: Response) => {\n                return response.json();\n            })\n            .catch(this.handleError)\n            .subscribe((result) => {\n                console.log(\"runCheckLogin\", result)\n                if (self.runcheckloginid) {\n                    clearTimeout(self.runcheckloginid);\n                }\n                self.runcheckloginid = setTimeout(function() {\n                    self.runCheckLogin();\n                }, 1200000);\n        })\n    }\n\n    changeAcceptCall(status) {\n        return this._http.post(AppSettings.URL_CHANGE_ACCEPT_CALL, {accept_call: status})\n            .map((response: Response) => {\n                return response.json();\n            })\n            .catch(this.handleError);\n    }\n\n    sendMessage(data) {\n        return this._http.post(AppSettings.URL_MESSAGE, data)\n            .map((response: Response) => {\n                return response.json();\n            })\n            .catch(this.handleError);\n    }\n\n    saveUser(params) {\n        return this._http.post(AppSettings.URL_USER_SETTING, params)\n            .map((response: Response) => {\n                return response.json();\n            })\n            .catch(this.handleError);\n    }\n\n    private handleError(error: Response) {\n        console.error(error);\n        //error.json().error || \n        return Observable.throw('Server error');\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/services/status.service.ts","import { Injectable, EventEmitter } from \"@angular/core\";\n\nimport { $WebSocket, WebSocketConfig } from \"angular2-websocket/angular2-websocket\";\nimport { AppSettings } from \"../app.settings\";\nimport { ErrorService } from './error.service';\n\nconst webSocketConfig = { \n    reconnectIfNotNormalClose: true,\n    initialTimeout: 10,\n    maxTimeout: 1000\n} as WebSocketConfig;\n\n@Injectable()\nexport class WebSocketService {\n    public ws;\n    public open: EventEmitter<any> = new EventEmitter();\n    public ready: EventEmitter<any> = new EventEmitter();\n    public message: EventEmitter<any> = new EventEmitter();\n    public error: EventEmitter<any> = new EventEmitter();\n\n    constructor(\n        private errorService: ErrorService) {\n        \n    }\n\n    init(user_key, callback) {\n        let self = this;\n        this.ws = new $WebSocket(AppSettings.URL_WEBSOKET + '?id=' + user_key, null, webSocketConfig);\n        this.ws.onOpen((data)=> {\n            self.open.emit(new Date());\n            if (callback) {\n                callback();\n            }\n        })\n        this.ws.onMessage((msg: MessageEvent) => {\n            //console.log(\"onMessage\", msg)\n            if (msg.type == 'message') {\n                self.message.emit(msg.data);\n            }\n        });\n\n        this.ws.onError((msg: MessageEvent) => {\n            self.errorService.errors\n            var error = {\n                code: 1000,\n                message: 'Ошибка доступа к серверу',\n            }\n            self.errorService.errors[error.code] = error;\n            self.errorService.errors_update.emit(new Date())\n        });\n        \n    }\n\n\n    public sendCommand(command) {\n        this.ws.send(command).subscribe(\n            (msg)=> {\n                //console.log(\"msg\", msg);\n            },\n            (error)=> {\n                //console.log(\"error\", error);\n            },\n            ()=> {\n                //console.log(\"complete\");\n            }\n        );\n    }\n\n\n\n\n}\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/services/websocket.service.ts","import { Component, OnDestroy, OnInit, ViewChild, ChangeDetectorRef} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Http } from \"@angular/http\";\nimport { Observable } from 'rxjs/Observable';\nimport { Router, NavigationExtras } from '@angular/router';\n\nimport { StatusService } from '../services/status.service';\nimport { DialogsService } from '../services/dialogs.service';\nimport { WebSocketService } from '../services/websocket.service';\nimport { AppSettings } from '../app.settings';\n\n//declare var moment:any;\n//declare var $:any;\n\n@Component({\n  selector: 'activedialogsview',\n  templateUrl: 'activedialogsview.template.html'\n})\nexport class ActiveDialogsViewComponent implements OnInit  {\n\n    public user;\n    public activedialogs = [];\n\n    public callingdialog;\n\n    public activedialog = null;\n    public activedialog_id = null;\n    public loading = true;\n    public calling_time;\n    \n    public reject_call_from = null;\n\n    private _CALLING_TIME_INTERVAL = 3000;\n    private _intervalid;\n\n    public constructor(\n        private statusService: StatusService,\n        private dialogsService: DialogsService,\n        private webSocketService: WebSocketService,\n        private router: Router) {\n        \n    }\n\n    public ngOnInit():any {\n        let self = this;\n        self.statusService.ready.subscribe((date)=> {\n            self.user = this.statusService.user;\n            console.log('self.user', self.user)\n            if (!self.user) {\n                return;\n            }\n        });\n\n        self.webSocketService.message.subscribe((data) => {\n            let message = JSON.parse(data);\n            //console.log('message', message)\n            if (message.command == \"UPDATE\") {\n                if (message.target == \"activedialogs\") {\n                    self._updateActiveDialogs();\n                }\n            }\n\n        })\n\n        self.webSocketService.error.subscribe((err) => {\n            console.log(\"Error\", err)\n        })\n\n\n        if (self.loading) {\n            self._updateActiveDialogs();\n        }\n    }\n\n    \n\n    public ngOnDestroy():any {\n    }\n    \n\n    public showActiveDialogs() {\n        this._updateActiveDialogs();\n        \n    }\n\n    private _updateActiveDialogs() {\n        this.loading = true;\n        this.dialogsService.getActiveDialogs().subscribe((data) => {\n            this.activedialogs = data;\n            this.loading = false;\n        });\n    }\n\n    \n\n    \n\n    public callDialog(activedialog) {\n        this.router.navigate(['/calling/' + activedialog.id  ])\n    }\n\n    \n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/activedialogsview.component.ts","module.exports = \"<div class=\\\"row\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"panel panel-default\\\">\\n            <div class=\\\"panel-heading\\\">\\n                <h4>Выберите диалог\\n                    <button class=\\\"btn btn-default pull-right\\\" style=\\\"margin-top: -10px;\\\" (click)=\\\"showActiveDialogs()\\\">\\n                        <i class=\\\"fa fa-refresh\\\" aria-hidden=\\\"true\\\" style=\\\"font-size: 20px;\\\"></i>\\n                    </button>\\n                </h4>\\n            </div>\\n            <div class=\\\"panel-body\\\" style=\\\"position: relative;\\\">\\n                <!-- Loading -->\\n                <div *ngIf=\\\"loading\\\" style=\\\"position: absolute;top:0;left:0;width:100%;height:100%;z-index: 100;\\\">\\n                    <div style=\\\"position: absolute;opacity: 0.5;width:100%;height:100%;background-color: white;\\\">\\n                    </div>\\n                    <div style=\\\"width: 50px;margin: auto;margin-top: 160px;\\\">\\n                        <i class=\\\"fa fa-spin fa-gear\\\" style=\\\"font-size: 50px;\\\"></i>\\n                    </div>\\n                </div>\\n                <!-- END Loading -->\\n\\n\\n                <div class=\\\"row\\\" style=\\\"margin: 20px 0;\\\"> \\n                    <div *ngIf=\\\"activedialogs.length == 0\\\">\\n                        <h4 style=\\\"text-align: center;\\\">Пока еще нет ни одного диалога в режиме ожидания ученика</h4>\\n                    </div>\\n                    <div class=\\\"col-sm-6 col-md-4\\\" *ngFor=\\\"let item of activedialogs\\\"> \\n                        <div class=\\\"thumbnail\\\">\\n                            <div class=\\\"\\\" style=\\\"width: 100%;position: relative;\\\"> \\n                                <img *ngIf=\\\"!item.dialog.background_image\\\" alt=\\\"100%x200\\\" data-src=\\\"holder.js/100%x200\\\" src=\\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjQyIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDI0MiAyMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjwhLS0KU291cmNlIFVSTDogaG9sZGVyLmpzLzEwMCV4MjAwCkNyZWF0ZWQgd2l0aCBIb2xkZXIuanMgMi42LjAuCkxlYXJuIG1vcmUgYXQgaHR0cDovL2hvbGRlcmpzLmNvbQooYykgMjAxMi0yMDE1IEl2YW4gTWFsb3BpbnNreSAtIGh0dHA6Ly9pbXNreS5jbwotLT48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwhW0NEQVRBWyNob2xkZXJfMTVlOTZiYzA5NjUgdGV4dCB7IGZpbGw6I0FBQUFBQTtmb250LXdlaWdodDpib2xkO2ZvbnQtZmFtaWx5OkFyaWFsLCBIZWx2ZXRpY2EsIE9wZW4gU2Fucywgc2Fucy1zZXJpZiwgbW9ub3NwYWNlO2ZvbnQtc2l6ZToxMnB0IH0gXV0+PC9zdHlsZT48L2RlZnM+PGcgaWQ9ImhvbGRlcl8xNWU5NmJjMDk2NSI+PHJlY3Qgd2lkdGg9IjI0MiIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSI4OS44NTkzNzUiIHk9IjEwNS40Ij4yNDJ4MjAwPC90ZXh0PjwvZz48L2c+PC9zdmc+\\\" data-holder-rendered=\\\"true\\\" style=\\\"height: 60px; width: 90px; display: block;float: left;\\\"> \\n                                <div *ngIf=\\\"item.dialog.background_image\\\" \\n                                    [ngStyle]=\\\"{'background-image': 'url(' + item.dialog.background_image + ')'}\\\"\\n                                    style=\\\"\\n                                        height: 60px; \\n                                        width: 90px; \\n                                        background-size: cover;\\n                                        display: block;\\n                                        float: left;\\\"></div>\\n                                <div style=\\\"position: absolute; right: 0;top:0;display: flex;align-items: center;\\\">\\n                                    <p class=\\\"badge\\\" style=\\\"margin: 5px;\\\">{{item.dialog.level_display}}</p>\\n                                </div>\\n\\n                                <div style=\\\"text-align: right;padding-top: 25px;\\\">\\n                                    <p class=\\\"badge badge-info\\\" style=\\\"margin:5px;background-color: darkcyan;\\\" *ngFor=\\\"let item of item.dialog.tags\\\">{{item.name}}</p>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"caption\\\"> \\n                                <h3>{{item.dialog?.name}}</h3> \\n                                <div>\\n                                    <p style=\\\"font-size: 9px;margin:0;\\\">кол-во шагов: {{item.dialog.scenario.steps.length || 0}}</p>\\n                                    <p style=\\\"font-size: 12px;\\\">{{item.dialog.description}}</p> \\n                                </div>\\n                                <div class=\\\"well\\\" style=\\\"padding:10px 0;\\\">\\n                                    <div style=\\\"display: flex;flex-wrap: wrap;justify-content: flex-end;\\\">\\n                                        <div>\\n                                            <p style=\\\"text-align: right;\\\">{{item.master?.fio}}</p>\\n                                            <p style=\\\"text-align: right;font-size: 12px;\\\">запущено: {{item.created_at| date:\\\"hh:mm dd-MM-yyyy\\\"}}</p>\\n                                        </div>\\n                                        <div style=\\\"padding:0 10px;\\\">\\n                                            <div *ngIf=\\\"item.master.avatar\\\" \\n                                                [ngStyle]=\\\"{'background-image': 'url(' + item.master.avatar + ')'}\\\"\\n                                                style=\\\"\\n                                                    height: 60px; \\n                                                    width: 90px; \\n                                                    background-size: cover;\\n                                                    display: block;\\n                                                    float: left;\\\">\\n                                            </div>\\n                                            <div *ngIf=\\\"!item.master.avatar\\\" \\n                                                style=\\\"\\n                                                    height: 50px; \\n                                                    width: 50px; \\n                                                    background-size: cover;\\n                                                    display: block;\\n                                                    float: left;\\\">\\n                                                    <i class=\\\"fa fa-user-circle-o\\\" aria-hidden=\\\"true\\\" style=\\\"font-size: 50px;\\\"></i>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                    <div style=\\\"text-align: right;\\\">\\n                                        <div class=\\\"badge\\\" style=\\\"background-color: indianred;\\\">{{item.master.level_display}}</div>\\n                                    </div>\\n                                </div>\\n                               \\n                                <p>\\n                                    <button class=\\\"btn btn-primary\\\" (click)=\\\"callDialog(item)\\\">\\n                                        Позвонить\\n                                    </button> \\n                                </p> \\n                            </div> \\n                        </div> \\n                    </div> \\n                </div>\\n\\n\\n            </div>\\n        </div>\\n        \\n\\n        <!--\\n        <div *ngIf=\\\"mode == 'mode_calling'\\\">\\n            <modecalling [callingdialog]=\\\"callingdialog\\\" (stopcalling)=\\\"handlerStopCalling($event)\\\"></modecalling>\\n        </div>\\n\\n\\n        \\n        <div *ngIf=\\\"mode == 'mode_dialog_master'\\\">\\n            <modedialogmaster [activedialogid]=\\\"activedialog_id\\\" (stopdialog)=\\\"handelerStopDialog($event)\\\"></modedialogmaster>\\n        </div>\\n            \\n\\n        <div *ngIf=\\\"mode == 'mode_dialog_pupil'\\\">\\n            <modedialogpupil [activedialogid]=\\\"activedialog_id\\\" (stopdialog)=\\\"handelerStopDialog($event)\\\"></modedialogpupil>\\n        </div>\\n    -->\\n    </div>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/activedialogsview.template.html\n// module id = ../../../../../src/app/views/activedialogsview.template.html\n// module chunks = main","import { NgModule } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { RouterModule } from \"@angular/router\";\nimport { FormsModule } from '@angular/forms';\n\n\nimport { DialogsViewComponent} from './dialogsview.component';\nimport { ActiveDialogsViewComponent} from './activedialogsview.component';\nimport { CallingFromsComponent } from '../components/view_block_calling/callingfroms.component';\nimport { ModeDialogPupilComponent } from '../components/mode_dialog_pupil/mode_dialog_pupil.component';\nimport { ModeDialogMasterComponent } from \"../components/mode_dialog_master/mode_dialog_master.component\";\nimport { DialogViewComponent } from './dialogview.component';\nimport { PlayerDialogMasterComponent } from '../components/player_dialog_master/player_dialog_master.component';\nimport { PlayerDialogPupilComponent } from '../components/player_dialog_pupil/player_dialog_pupil.component';\nimport { ModeWaitPupilViewComponent } from \"./view_mode_wait_pupil/view_mode_wait_pupil.component\";\nimport { ModeCallingViewComponent } from \"./view_mode_calling/view_mode_calling.component\";\nimport { ChangeCurrentDialogComponent } from \"../components/change_current_dialog/change_current_dialog.component\";\nimport { MessageViewComponent } from \"./view_message/view_message.component\";\nimport { ProfileViewComponent } from \"./view_profile/view_profile.component\";\n\nimport { EqualValidator } from './view_profile/equal_validator.directive';\n\n@NgModule({\n  declarations: [\n    DialogsViewComponent,\n    ActiveDialogsViewComponent,\n    CallingFromsComponent,\n    ModeDialogPupilComponent,\n    ModeDialogMasterComponent,\n    DialogViewComponent,\n    PlayerDialogMasterComponent,\n    PlayerDialogPupilComponent,\n    ModeWaitPupilViewComponent,\n    ModeCallingViewComponent,\n    ChangeCurrentDialogComponent,\n    MessageViewComponent,\n    ProfileViewComponent,\n    EqualValidator,\n  ],\n  imports: [\n    BrowserModule,\n    RouterModule,\n    FormsModule,\n  ],\n  exports: [\n    DialogsViewComponent,\n    ActiveDialogsViewComponent,\n    CallingFromsComponent,\n    ModeDialogPupilComponent,\n    ModeDialogMasterComponent,\n    DialogViewComponent,\n    PlayerDialogMasterComponent,\n    PlayerDialogPupilComponent,\n    ModeWaitPupilViewComponent,\n    ModeCallingViewComponent,\n    ChangeCurrentDialogComponent,\n    MessageViewComponent,\n    ProfileViewComponent,\n    EqualValidator,\n  ],\n})\n\nexport class AppviewsModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/appviews.module.ts","import { Component, OnDestroy, OnInit, ViewChild, ChangeDetectorRef} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Http } from \"@angular/http\";\nimport { Observable } from 'rxjs/Observable';\nimport { Router } from '@angular/router';\n\nimport { StatusService } from '../services/status.service';\nimport { DialogsService } from '../services/dialogs.service';\nimport { WebSocketService } from '../services/websocket.service';\nimport { AppSettings } from '../app.settings';\n\n//declare var moment:any;\n//declare var $:any;\n\n@Component({\n  selector: 'dialogsview',\n  templateUrl: 'dialogsview.template.html'\n})\nexport class DialogsViewComponent implements OnInit  {\n\n    public user;\n    public dialogs;\n    public activedialogs;\n\n    public callingdialog;\n\n    public mode: string = 'mode_list'; // 1 - all dialogs 'wait_pupil' - activedialogs 3 - calling\n    public activedialog = null;\n    public activedialog_id = null;\n    public loading = true;\n    public calling_time;\n    \n    public reject_call_from = null;\n\n    private _CALLING_TIME_INTERVAL = 3000;\n    private _intervalid;\n\n    public constructor(\n        private statusService: StatusService,\n        private dialogsService: DialogsService,\n        private webSocketService: WebSocketService,\n        private router: Router,\n        private ref: ChangeDetectorRef) {\n        \n    }\n\n    public ngOnInit():any {\n        let self = this;\n        self.statusService.ready.subscribe((date)=> {\n            self.user = this.statusService.user;\n            //console.log('self.user', self.user)\n            if (!self.user) {\n                return;\n            }\n\n            self.mode = this.statusService.mode;\n            self.activedialog = self.statusService.activedialog;\n            if (!this.activedialog) {\n                this._updateDialogs();\n            }\n        });\n\n        self.webSocketService.message.subscribe((data) => {\n            let message = JSON.parse(data);\n            //console.log(\"1!!!!message\", message)\n            //if (message.command == \"UPDATE\") {\n            //    if (message.target == \"activedialogs\") {\n            //        self._updateActiveDialogs();\n            //    }\n            //}\n\n            //if (message.command == \"START_DIALOG_MASTER\") {\n            //    self.activedialog_id = message.dialog;\n            //    self.mode = AppSettings.MODE_DIALOG_MASTER\n            //}\n            \n            if (message.command == \"EXIT_FROM_ACTIVE_DIALOG_BY_PUPIL\") {\n                console.log(\"EXIT_FROM_ACTIVE_DIALOG_BY_PUPIL\")\n                self.mode = AppSettings.MODE_LIST;\n                self.statusService.init();\n            }\n            if (message.command == \"EXIT_FROM_ACTIVE_DIALOG_BY_MASTER\") {\n                console.log(\"EXIT_FROM_ACTIVE_DIALOG_BY_MASTER\")\n                self.mode = AppSettings.MODE_LIST;\n                self.statusService.init();\n            }\n\n        })\n\n        self.webSocketService.error.subscribe((err) => {\n            console.log(\"Error\", err)\n        })\n\n        this.dialogsService.getDialogs().subscribe((data) => {\n            this.dialogs = data;\n            this.loading = false;\n        });\n\n        //if (self.loading) {\n        //    self._updateDialogs();\n        //}\n    }\n\n    \n\n    public ngOnDestroy():any {\n    }\n    \n\n    private _updateDialogs() {\n        //this.loading = true;\n        \n    }\n\n\n    private turnActiveDialog(dialog) {\n        let self = this;\n        self.loading = true;\n        self.dialogsService.runDialog(dialog.id).subscribe((data) => {\n            self.loading = false;\n            if (data.status) {\n                for (let i = 0; i < self.dialogs.length; i++) {\n                    if (self.dialogs[i].id == dialog.id) {\n                         self.dialogs[i] = data.dialog;\n                    }\n                }\n                self.ref.detectChanges();\n            //    self.router.navigate(['/wait']);\n            //    self.mode = AppSettings.MODE_WAIT_PUPIL;\n            //    self.activedialog = data.activedialog;\n            }\n        });\n    }\n    \n\n    /*\n\n    public runDialog(dialog) {\n        let self = this;\n        self.loading = true;\n        self.dialogsService.runDialog(dialog.id).subscribe((data) => {\n            //console.log(data)\n            self.loading = false;\n            if (data.status) {\n                self.router.navigate(['/wait']);\n            //    self.mode = AppSettings.MODE_WAIT_PUPIL;\n            //    self.activedialog = data.activedialog;\n            }\n        });\n    }\n\n    \n    \n    public callDialog(dialog) {\n        let self = this;\n        self.callingdialog = dialog;\n        self.mode = AppSettings.MODE_CALLING;\n        self._callingDialog(dialog.id);\n    }\n\n    \n\n    private _callingDialog(activedialog_id) {\n        let self = this;\n        if (self.mode == AppSettings.MODE_CALLING) {\n            self.calling_time = new Date();\n\n            self.webSocketService.sendCommand({\n                command: 'CALLING',\n                target: activedialog_id,\n                source: self.user.key_id\n            })\n\n            setTimeout(function() {\n                self._callingDialog(activedialog_id);\n            }, AppSettings.CALLING_TIME_INTERVAL);\n        }\n        \n    }\n    */\n    public handlerStopCalling($event) {\n        this.callingdialog = null;\n        this.mode = AppSettings.MODE_LIST;\n        //this._updateActiveDialogs();\n    }\n\n    //public handelerStopWaitDialog(data) {\n    //    if (data.status) {\n    //        this.mode = AppSettings.MODE_LIST;\n            //this.showDialogs();\n    //    }\n    //}\n\n    public handlerAcceptCall(user_key_id) {\n        let self = this;\n        self.webSocketService.sendCommand({\n            command: 'START_DIALOG',\n            target: self.activedialog.id,\n            master: self.user.key_id,\n            pupil: user_key_id\n        })\n    }\n    /*\n    public handelerStopDialog(data) {\n        let self = this;\n        self.loading = true;\n        let command;\n        if (data.type == 'pupil') {\n            command = {\n                command: 'EXIT_FROM_ACTIVE_DIALOG_BY_PUPIL',\n                target: data.activedialogid,\n            }\n        }\n        if (data.type == 'master') {\n            command = {\n                command: 'EXIT_FROM_ACTIVE_DIALOG_BY_MASTER',\n                target: data.activedialogid\n            }\n        }\n        self.webSocketService.sendCommand(command)\n       // this._updateActiveDialogs();\n    }\n\n    */\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/dialogsview.component.ts","module.exports = \"<div class=\\\"row\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"panel panel-default\\\">\\n            <div class=\\\"panel-heading\\\">\\n                <h4>Выберите диалог</h4>\\n            </div>\\n            <div class=\\\"panel-body\\\" style=\\\"position: relative;\\\">\\n                <!-- Loading -->\\n                <div *ngIf=\\\"loading\\\" style=\\\"position: absolute;top:0;left:0;width:100%;height:100%;z-index: 100;\\\">\\n                    <div style=\\\"position: absolute;opacity: 0.5;width:100%;height:100%;background-color: white;\\\">\\n                    </div>\\n                    <div style=\\\"width: 50px;margin: auto;margin-top: 160px;\\\">\\n                        <i class=\\\"fa fa-spin fa-gear\\\" style=\\\"font-size: 50px;\\\"></i>\\n                    </div>\\n                </div>\\n                <!-- END Loading -->\\n\\n                <div class=\\\"row\\\" style=\\\"margin: 20px 0;\\\"> \\n                    <div class=\\\"col-sm-6 col-md-4\\\" *ngFor=\\\"let item of dialogs\\\"> \\n                        <div class=\\\"thumbnail\\\"> \\n                            <div class=\\\"\\\" style=\\\"width: 100%;position: relative;\\\">\\n                                <img *ngIf=\\\"!item.background_image\\\" alt=\\\"100%x200\\\" data-src=\\\"holder.js/100%x200\\\" src=\\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjQyIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDI0MiAyMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjwhLS0KU291cmNlIFVSTDogaG9sZGVyLmpzLzEwMCV4MjAwCkNyZWF0ZWQgd2l0aCBIb2xkZXIuanMgMi42LjAuCkxlYXJuIG1vcmUgYXQgaHR0cDovL2hvbGRlcmpzLmNvbQooYykgMjAxMi0yMDE1IEl2YW4gTWFsb3BpbnNreSAtIGh0dHA6Ly9pbXNreS5jbwotLT48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwhW0NEQVRBWyNob2xkZXJfMTVlOTZiYzA5NjUgdGV4dCB7IGZpbGw6I0FBQUFBQTtmb250LXdlaWdodDpib2xkO2ZvbnQtZmFtaWx5OkFyaWFsLCBIZWx2ZXRpY2EsIE9wZW4gU2Fucywgc2Fucy1zZXJpZiwgbW9ub3NwYWNlO2ZvbnQtc2l6ZToxMnB0IH0gXV0+PC9zdHlsZT48L2RlZnM+PGcgaWQ9ImhvbGRlcl8xNWU5NmJjMDk2NSI+PHJlY3Qgd2lkdGg9IjI0MiIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSI4OS44NTkzNzUiIHk9IjEwNS40Ij4yNDJ4MjAwPC90ZXh0PjwvZz48L2c+PC9zdmc+\\\" data-holder-rendered=\\\"true\\\" style=\\\"height: 50px; width: 50px; display: block;float: left;\\\"> \\n                                <div *ngIf=\\\"item.background_image\\\" \\n                                    [ngStyle]=\\\"{'background-image': 'url(' + item.background_image + ')'}\\\"\\n                                    style=\\\"\\n                                        height: 60px; \\n                                        width: 90px; \\n                                        background-size: cover;\\n                                        display: block;\\n                                        float: left;\\\"></div>\\n\\n                                <div style=\\\"position: absolute; right: 0;top:0;display: flex;align-items: center;\\\">\\n                                    \\n                                    <p  class=\\\"badge\\\" [ngClass]=\\\"{\\n                                        'bg-color-begin': item.level == 10,\\n                                        'bg-color-preintermediate': item.level == 20,\\n                                        'bg-color-intermediate': item.level == 30\\n                                    }\\\" style=\\\"margin: 5px;\\\">{{item.level_display}}</p>\\n\\n\\n                                    <div style=\\\"width: 40px;height: 40px;border: 2px solid darkcyan;border-radius: 4px;cursor: pointer;\\\" (click)=\\\"turnActiveDialog(item)\\\">\\n                                        <div *ngIf=\\\"item.checked\\\" style=\\\"width: 28px;height: 28px;background-color: darkcyan;border-radius: 4px;margin:4px;\\\"></div>\\n                                    </div>\\n                                </div>\\n                                <div style=\\\"text-align: right;padding-top: 40px;\\\">\\n                                    <p class=\\\"badge badge-info\\\" style=\\\"margin:5px;background-color: darkcyan;\\\" *ngFor=\\\"let item of item.tags\\\">{{item.name}}</p>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"caption\\\" style=\\\"clear:both;\\\"> \\n                                <h3>{{item.name}}</h3> \\n                                <p>{{item.description}}</p> \\n                                <p><!--\\n                                    <button class=\\\"btn btn-primary\\\" (click)=\\\"runDialog(item)\\\">\\n                                        Запустить диалог и ждать собеседника\\n                                    </button> \\n                                -->\\n                                    <button class=\\\"btn btn-success btn-xs\\\" [routerLink]=\\\"['/dialog', item.id]\\\">\\n                                        Просмотреть\\n                                    </button> \\n                                </p> \\n                            </div> \\n                        </div> \\n                    </div> \\n                </div>\\n\\n            </div>\\n        </div>\\n        <!--\\n        <div *ngIf=\\\"mode == 'mode_wait_pupil'\\\">\\n            <modewaitpupil [user]=\\\"user\\\" [activedialog]=\\\"activedialog\\\" (stopwaitingdialog)=\\\"handelerStopWaitDialog($event)\\\" (acceptcall)=\\\"handlerAcceptCall($event)\\\"></modewaitpupil>\\n        </div>\\n        \\n\\n\\n        <div *ngIf=\\\"mode == 'mode_calling'\\\">\\n            <modecalling [callingdialog]=\\\"callingdialog\\\" (stopcalling)=\\\"handlerStopCalling($event)\\\"></modecalling>\\n        </div>\\n        \\n        \\n        <div *ngIf=\\\"mode == 'mode_dialog_master'\\\">\\n            <modedialogmaster [activedialogid]=\\\"activedialog_id\\\" (stopdialog)=\\\"handelerStopDialog($event)\\\"></modedialogmaster>\\n        </div>\\n\\n        <div *ngIf=\\\"mode == 'mode_dialog_pupil'\\\">\\n            <modedialogpupil [activedialogid]=\\\"activedialog_id\\\" (stopdialog)=\\\"handelerStopDialog($event)\\\"></modedialogpupil>\\n        </div>\\n        -->\\n    </div>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/dialogsview.template.html\n// module id = ../../../../../src/app/views/dialogsview.template.html\n// module chunks = main","import { Component, OnDestroy, OnInit, ViewChild, ChangeDetectorRef} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Http } from \"@angular/http\";\nimport { Observable } from 'rxjs/Observable';\nimport { Router, ActivatedRoute } from '@angular/router';\n\nimport { StatusService } from '../services/status.service';\nimport { DialogsService } from '../services/dialogs.service';\nimport { WebSocketService } from '../services/websocket.service';\nimport { AppSettings } from '../app.settings';\n\n//declare var moment:any;\n//declare var $:any;\n\n@Component({\n  selector: 'dialogview',\n  templateUrl: 'dialogview.template.html'\n})\nexport class DialogViewComponent implements OnInit  {\n\n    public user;\n    public dialog;\n    public personages = [];\n    public selectedPersonage;\n    public current_step;\n    public current_step_id;\n\n    public constructor(\n        private statusService: StatusService,\n        private dialogsService: DialogsService,\n        private webSocketService: WebSocketService,\n        private router: Router,\n        private activatedRoute: ActivatedRoute) {\n        \n    }\n\n    public ngOnInit():any {\n        this._getDialog()\n    }\n\n    \n\n    public ngOnDestroy():any {\n    }\n    \n\n    \n    public onChangePersonage() {\n        this.nextStep(this.current_step_id);\n    }\n    \n    \n    private _getDialog() {\n        let self = this;\n        this.activatedRoute.params\n            .pluck('dialog_id')\n            .switchMap(dialog_id => this.dialogsService.getDialog(dialog_id))\n            .subscribe((dialog) => {\n                self.dialog = dialog\n                \n                if (this.dialog.scenario && this.dialog.scenario.personages) {\n                    self.personages = this.dialog.scenario.personages;\n                    self.selectedPersonage = self.dialog.scenario.steps[0].start_personage;\n                    self.nextStep();\n                }\n            });\n    }\n\n    private _shuffle(a) {\n        for (let i = a.length; i; i--) {\n            let j = Math.floor(Math.random() * i);\n            [a[i - 1], a[j]] = [a[j], a[i - 1]];\n        }\n    }\n\n    public getTask() {\n        let tasks = [];\n        for (let i = 0; i < this.current_step.variants.length; i++) {\n            tasks.push(this.current_step.variants[i])\n        }\n        return tasks\n    }\n\n\n    public getWords(item) {\n        item.words = item.phrase.split(' ');\n        this._shuffle(item.words);\n        this._shuffle(item.words);\n    }\n\n    public clearWords(item) {\n        item.words = [];\n    }\n\n    public getHints(item) {\n        item.hints = item.phrase;\n    }\n    public clearHints(item) {\n        item.hints = null;\n    }\n\n    public nextStep(next_step_id?) {\n        if (next_step_id) {\n            for (var i = 0; i < this.dialog.scenario.steps.length; i++) {\n                if (this.dialog.scenario.steps[i].id == next_step_id) {\n                    this.current_step = this.dialog.scenario.steps[i][this.selectedPersonage];\n                    this.current_step_id = this.dialog.scenario.steps[i].id;\n                    return;\n                } \n            }\n        }\n        this.current_step = this.dialog.scenario.steps[0][this.selectedPersonage];\n        this.current_step_id = this.dialog.scenario.steps[0].id;\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/dialogview.component.ts","module.exports = \"<div class=\\\"row\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"panel panel-default\\\">\\n             <div class=\\\"panel-heading\\\">\\n                <div class=\\\"container\\\">\\n                    <div class=\\\"col-md-6\\\" style=\\\"display: flex;\\\">\\n                        <div style=\\\"line-height: 2;\\\">Выбор персонажа</div>\\n                        <select class=\\\"form-control\\\" [(ngModel)]=\\\"selectedPersonage\\\" style=\\\"margin-left: 20px;width: 150px;\\\" (ngModelChange)=\\\"onChangePersonage()\\\">\\n                            <option *ngFor=\\\"let pesonage of personages\\\" [value]=\\\"pesonage.role\\\">{{pesonage.name}}</option>\\n                        </select>\\n                    </div>\\n                    <div class=\\\"col-md-6\\\" style=\\\"text-align: right;\\\">\\n                        <p style=\\\"margin: 0 40px;\\\">{{dialog?.name}}</p>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"panel-body\\\">\\n                <div *ngIf=\\\"dialog && dialog.scenario\\\" class=\\\"panel panel-primary\\\">\\n                    <div class=\\\"panel-heading\\\">\\n                        Текущий шаг: {{current_step.number}}\\n                    </div>\\n                    <div class=\\\"panel-body\\\" style=\\\"min-height: 200px;\\\">\\n                        <span>Вам нужно сказать:</span> \\n                        <div *ngFor=\\\"let item of getTask()\\\">\\n                            <h4 class=\\\"text-success\\\">{{item.task}}</h4>\\n\\n                            <button *ngIf=\\\"item.prev_step > 0\\\" class=\\\"btn btn-info\\\" type=\\\"button\\\" (click)=\\\"nextStep(item.prev_step)\\\">Назад</button>\\n                            <button *ngIf=\\\"item.next_step > 0\\\" class=\\\"btn btn-success\\\" type=\\\"button\\\" (click)=\\\"nextStep(item.next_step)\\\">Следуюйщий шаг</button>\\n                        \\n                            <div style=\\\"margin-top:40px\\\">\\n                                <button *ngIf=\\\"!item.words || (item.words && item.words.length == 0)\\\" class=\\\"btn btn-info btn-xs\\\" type=\\\"button\\\" (click)=\\\"getWords(item)\\\">Посмотреть слова</button>\\n                                 <button *ngIf=\\\"item.words && item.words.length > 0\\\" class=\\\"btn btn-info btn-xs\\\" type=\\\"button\\\" (click)=\\\"clearWords(item)\\\">Скрыть слова</button>\\n                                <button *ngIf=\\\"!item.hints\\\"  class=\\\"btn btn-default btn-xs\\\" type=\\\"button\\\" (click)=\\\"getHints(item)\\\">Посмотреть подсказку</button>\\n                                <button *ngIf=\\\"item.hints\\\" class=\\\"btn btn-default btn-xs\\\" type=\\\"button\\\" (click)=\\\"clearHints(item)\\\">Убрать подсказку</button>\\n                            </div>\\n\\n                            <div *ngIf=\\\"item.words && item.words.length > 0\\\" style=\\\"margin-top:20px;display: flex;justify-content: center;flex-wrap: wrap;\\\">\\n                                <span *ngFor=\\\"let item of item.words\\\" class=\\\"label label-success\\\" style=\\\"margin: 10px;padding: 10px;font-size: 16px;\\\">{{item}}</span>\\n                            </div>\\n                            <div *ngIf=\\\"item.hints\\\" style=\\\"margin-top:20px;\\\">\\n                                <p class=\\\"alert alert-success\\\" style=\\\"margin: 5px 0;\\\">\\n                                    {{item.hints}}\\n                                </p>\\n                                \\n                            </div>\\n                        </div> \\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/dialogview.template.html\n// module id = ../../../../../src/app/views/dialogview.template.html\n// module chunks = main","import { Component, OnInit, OnDestroy, Input, Output, OnChanges, EventEmitter } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n// import 'jquery-slimscroll';\nimport { FormsModule } from '@angular/forms';\n\nimport { WebSocketService } from '../../services/websocket.service';\nimport { DialogsService } from '../../services/dialogs.service';\nimport { StatusService } from '../../services/status.service';\n\nimport { AppSettings } from '../../app.settings';\n\n@Component({\n  selector: 'viewmessage',\n  templateUrl: 'view_message.template.html'\n})\n\nexport class MessageViewComponent implements OnInit, OnDestroy {\n    \n    user;\n    name: string = \"\";\n    email: string = \"\";\n    message: string = \"\";\n    loading: boolean = false;\n\n    constructor(\n        private statusService: StatusService,\n        private router: Router,\n        ) {\n    }\n\n    ngOnInit() {\n        let self = this;\n        self.statusService.ready.subscribe((date)=> {\n            self.user = self.statusService.user;\n        });\n        if (!self.user) {\n            self.user = self.statusService.user;\n            if (!self.user) {\n                self.statusService.getStatus();\n            }\n        }\n       \n        \n    }\n\n    ngAfterViewInit() {\n        \n    }\n\n    ngOnChanges(changes) {\n        console.log('changes', changes)\n    }\n    \n\n\n    ngOnDestroy() {\n    }\n\n    send() {\n        this.loading = true;\n        let data = {\n            message: this.message\n        };\n        if (this.name) {\n            data['name'] = this.name;\n        }\n        if (this.email) {\n            data['email'] = this.email;\n        }\n\n        this.statusService.sendMessage(data).subscribe((data) => {\n            this.loading = false;\n            this.router.navigate(['activedialogs']);\n        })\n        \n    }\n   \n\n\n    \n    \n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_message/view_message.component.ts","module.exports = \"<div class=\\\"container\\\">\\n    <form #loginForm=\\\"ngForm\\\" style=\\\"margin:40px;\\\">\\n      <div *ngIf=\\\"!user\\\" class=\\\"form-group\\\">\\n        <label for=\\\"exampleInputName\\\">Ваше имя</label>\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"exampleInputName\\\" name=\\\"name\\\" placeholder=\\\"\\\" [ngModel]=\\\"name\\\">\\n      </div>\\n       <div *ngIf=\\\"!user\\\" class=\\\"form-group\\\">\\n        <label for=\\\"exampleInputEmail\\\">Ваше email</label>\\n        <input type=\\\"email\\\" class=\\\"form-control\\\" id=\\\"exampleInputEmail\\\" placeholder=\\\"\\\" name=\\\"email\\\" [ngModel]=\\\"email\\\">\\n      </div>\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"exampleInputMessage\\\">Ваше сообщение *</label>\\n        <textarea class=\\\"form-control\\\" id=\\\"exampleInputMessage\\\" name=\\\"message\\\" style=\\\"min-height: 200px;\\\" [ngModel]=\\\"message\\\" required=\\\"required\\\"></textarea>\\n      </div>\\n      \\n      <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" [disabled]=\\\"!loginForm.valid || loading\\\" (click)=\\\"send()\\\">Отправить сообщение</button>\\n    </form>\\n</div>\\n\\n<!-- Loading -->\\n<div *ngIf=\\\"loading\\\" style=\\\"position: absolute;top:0;left:0;width:100%;height:100%;z-index: 100;\\\">\\n    <div style=\\\"position: absolute;opacity: 0.5;width:100%;height:100%;background-color: white;\\\">\\n    </div>\\n    <div style=\\\"width: 50px;margin: auto;margin-top: 160px;\\\">\\n        <i class=\\\"fa fa-spin fa-gear\\\" style=\\\"font-size: 50px;\\\"></i>\\n    </div>\\n</div>\\n<!-- END Loading -->\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_message/view_message.template.html\n// module id = ../../../../../src/app/views/view_message/view_message.template.html\n// module chunks = main","import { Component, OnInit, OnDestroy, Input, Output, OnChanges, EventEmitter } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n// import 'jquery-slimscroll';\nimport { FormsModule } from '@angular/forms';\n\nimport { WebSocketService } from '../../services/websocket.service';\nimport { DialogsService } from '../../services/dialogs.service';\nimport { StatusService } from '../../services/status.service';\n\nimport { AppSettings } from '../../app.settings';\n\n@Component({\n  selector: 'modecalling',\n  templateUrl: 'view_mode_calling.template.html'\n})\n\nexport class ModeCallingViewComponent implements OnInit, OnDestroy {\n    @Input() public  user;\n\n    public callingdialog;\n    public callingfroms = [];\n    public calling_time;\n    public start_calling_time;\n    public mode = 'calling'; //calling  mode_dialog_pupil\n    public activedialogid;\n\n    public audio_enable: boolean = true;\n    private audio;\n    private loading: boolean = false;\n    private timeout_id;\n    private running_call = true;\n\n\n    constructor(\n        private webSocketService: WebSocketService,\n        private activatedRoute: ActivatedRoute,\n        private dialogsService: DialogsService,\n        private statusService: StatusService,\n        private router: Router,\n        ) {\n    }\n\n    ngOnInit() {\n        let self = this;\n        self.start_calling_time = new Date();\n\n        self._createCallingAudio();\n\n        self.webSocketService.message.subscribe((data) => {\n            let message = JSON.parse(data);\n            //console.log(\"Calling message\", message)\n\n            if (message.command == 'CALLING_MASTER_REJECT') {\n                self.stopCallingDialog();\n            }\n\n            if (message.command == \"START_DIALOG_PUPIL\") {\n                self.activedialogid = message.dialog;\n                self.running_call = false;\n                self.mode = 'mode_dialog_pupil';\n\n            }\n\n            if (message.command == \"EXIT_FROM_ACTIVE_DIALOG_BY_PUPIL\") {\n                self.stopCallingDialog();\n            }\n\n            if (message.command == \"STOP_CALLING\") {\n                this.running_call = false;\n                if (message.reason == \"DIALOG_STOP\") {\n                    this.router.navigate(['/activedialogs']);\n                }\n                if (message.reason == \"NOT FOUND\") {\n                    this.router.navigate(['/activedialogs']);\n                }\n            }\n\n            \n            \n        })\n\n        self.statusService.ready.subscribe((date)=> {\n            self.user = self.statusService.user;\n            if (!self.user) {\n                return;\n            }\n            if (!self.callingdialog) {\n                self._getActiveDialog();\n            }\n        });\n        if (self.statusService.user) {\n            self.user = self.statusService.user;\n        } else {\n            self.statusService.getStatus();\n        }\n\n        if (self.user) {\n            //self._getActiveDialog();\n            self._getActiveDialog();\n        }\n       \n        \n    }\n\n    ngAfterViewInit() {\n        \n    }\n\n    ngOnChanges(changes) {\n        console.log('changes', changes)\n    }\n    \n\n\n    ngOnDestroy() {\n        this.running_call = false;\n        if (this.timeout_id) {\n            clearTimeout(this.timeout_id);\n        } \n    }\n\n    private _createCallingAudio() {\n        this.audio = new Audio();\n        this.audio.src = \"/static/assets/music/calling.mp3\";\n        this.audio.load();\n    }\n\n    private _playCallingAudo() {\n        if (this.audio_enable && this.running_call) {\n            this.audio.play();\n        }\n    }\n\n    public stopCallingDialog() {\n        this.running_call = false;\n        this.router.navigate(['/activedialogs']);\n    }\n\n     /*\n    private _startCalling() {\n        let self = this;\n        this.activatedRoute.params\n                .pluck('id')\n                .subscribe((id) => {\n                    self._callingDialog(id)\n                })\n    }\n    */\n   \n    private _getActiveDialog() {\n        let self = this;\n        this.activatedRoute.params\n                .pluck('id')\n                .switchMap(id => this.dialogsService.getActiveDialog(id))\n                .subscribe((dialog) => {\n                    self.callingdialog = dialog;\n                    self._callingDialog(self.callingdialog.id);\n                });\n    }\n\n    private _callingDialog(activedialog_id) {\n        console.log('_callingDialog')\n\n        let self = this;\n        if (self.running_call) {\n            self.calling_time = new Date();\n            \n            self.webSocketService.sendCommand({\n                command: 'CALLING',\n                target: activedialog_id,\n                source: self.user.key_id\n            })\n\n            if (self.timeout_id) {\n                clearTimeout(self.timeout_id);\n            } \n        \n            self._playCallingAudo();\n\n            self.timeout_id = setTimeout(function() {\n                self._callingDialog(activedialog_id);\n            }, AppSettings.CALLING_TIME_INTERVAL);\n        }\n        \n        \n    }\n    \n\n    public handelerStopDialog(data) {\n        let self = this;\n        self.loading = true;\n        let command = {\n                command: 'EXIT_FROM_ACTIVE_DIALOG_BY_PUPIL',\n                target: data.activedialogid,\n            }\n        \n        self.webSocketService.sendCommand(command)\n       // this._updateActiveDialogs();\n    }\n    \n    \n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_mode_calling/view_mode_calling.component.ts","module.exports = \"<div class=\\\"container\\\" *ngIf=\\\"mode == 'calling'\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"panel panel-default\\\" style=\\\"margin:40px;\\\">\\n            <div class=\\\"panel-heading\\\">\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-md-6\\\">\\n                        <h4>Звоним...</h4>\\n                    </div>\\n                    <div class=\\\"col-md-6\\\" style=\\\"text-align: right;\\\">\\n                        <p *ngIf=\\\"callingdialog\\\" style=\\\"margin: 0 20px;\\\">{{callingdialog.dialog.name}}\\n                            <i *ngIf=\\\"audio_enable\\\" class=\\\"fa fa-volume-up\\\" aria-hidden=\\\"true\\\" style=\\\"font-size: 30px;margin-left:20px;cursor:pointer;\\\" (click)=\\\"audio_enable=!audio_enable\\\"></i>\\n                            <i *ngIf=\\\"!audio_enable\\\" class=\\\"fa fa-volume-off\\\" aria-hidden=\\\"true\\\" style=\\\"font-size: 30px;margin-left:20px;cursor:pointer;\\\"  (click)=\\\"audio_enable=!audio_enable\\\"></i>\\n                        </p>\\n\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"panel-body\\\">\\n                Звонок запущен: {{start_calling_time | date:\\\"hh:mm dd-mm-yyyy\\\"}}\\n                \\n                <div class=\\\"row\\\" style=\\\"text-align: center;\\\">\\n                    <img src=\\\"/static/assets/images/progress.gif\\\" style=\\\"width: 100px;margin: 0 auto;\\\">\\n                </div>\\n                <div class=\\\"row\\\" style=\\\"text-align: center;margin-top: 40px;\\\">\\n                    <button class=\\\"btn btn-warning\\\" (click)=\\\"stopCallingDialog()\\\">\\n                        <span>Отмена</span>\\n                    </button>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n\\n<div class=\\\"container\\\" *ngIf=\\\"mode == 'mode_dialog_pupil'\\\">\\n    <div class=\\\"row\\\">\\n        <div *ngIf=\\\"mode == 'mode_dialog_pupil'\\\">\\n            <modedialogpupil [activedialogid]=\\\"activedialogid\\\" (stopdialog)=\\\"handelerStopDialog($event)\\\"></modedialogpupil>\\n        </div>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_mode_calling/view_mode_calling.template.html\n// module id = ../../../../../src/app/views/view_mode_calling/view_mode_calling.template.html\n// module chunks = main","import { Component, OnInit, OnDestroy, Input, Output, OnChanges, EventEmitter,\n    ChangeDetectorRef, ViewRef } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\n\nimport { DialogsService } from '../../services/dialogs.service';\nimport { WebSocketService } from '../../services/websocket.service';\nimport { StatusService } from '../../services/status.service';\n\n\nimport { AppSettings } from '../../app.settings';\n\n@Component({\n  selector: 'viewmodewaitpupil',\n  templateUrl: 'view_mode_wait_pupil.template.html'\n})\n\nexport class ModeWaitPupilViewComponent implements OnInit, OnDestroy {\n    //@Input() public  user;\n    //@Input() public activedialog;\n    @Output() public stopwaitingdialog = new EventEmitter();\n    @Output() public acceptcall = new EventEmitter();\n\n    public activedialog;\n    public user;\n    public callingfroms = [];\n    public mode = 'wait';\n    \n    public audio_enable: boolean = true;\n    private audio;\n    private loading: boolean = false;\n\n\n    constructor(\n        private webSocketService: WebSocketService,\n        private dialogsService: DialogsService,\n        private statusService: StatusService,\n        private ref: ChangeDetectorRef,\n        private router: Router\n        ) {\n    }\n\n    ngOnInit() {\n        let self = this;\n\n        self.createAudioIncoming();\n\n        self.webSocketService.message.subscribe((data) => {\n            let message = JSON.parse(data);\n            if (message.command == 'CALLING') {\n                if (message.target == 'TAKEPHONE') {\n                    if (!self.activedialog) {\n                        self._getActiveDialog(message.activedialogid, function() {\n                            self._calling(message);\n                        })\n                    } else {\n                        self._calling(message);\n                    }\n                    \n                }\n            }\n            if (message.command == 'CALLING_MASTER_REJECT') {\n                let index = -1;\n                for (let i = 0; i < self.callingfroms.length; i++) {\n                    if (self.callingfroms[i].key_id == message.pupil) {\n                        index = i;\n                        break;\n                    }\n                } \n                if (index != -1) {\n                    self.callingfroms.splice(index, 1);\n                    this._detectChanges();\n                }\n                \n            }\n\n            if (message.command == \"START_DIALOG_MASTER\") {\n                self.mode = 'mode_dialog_master';\n\n            }\n\n            if (message.command == \"CALLING_REJECT\") {\n                self.router.navigate(['/activedialogs/']);\n            }\n\n            if (message.command == \"EXIT_FROM_ACTIVE_DIALOG_BY_MASTER\") {\n                self.router.navigate(['/activedialogs/']);\n            }\n        })\n\n        self.statusService.ready.subscribe((date)=> {\n            self.user = self.statusService.user;\n            if (!self.user) {\n                return;\n            }\n            //if (self.statusService.activedialog) {\n            //    self.activedialog = self.statusService.activedialog;\n            //}\n        });\n\n        if (!self.user) {\n            self.user = self.statusService.user;\n        }\n        \n        setTimeout(function() {\n            if (!this.activedialog) {\n                this.router.navigate(['/dialogs/']);\n            }\n        }.bind(this), 10000)\n        \n    }\n\n\n\n    private _getActiveDialog(activedialogid, callback) {\n        let self = this;\n        this.dialogsService.getActiveDialog(activedialogid)\n            .subscribe((activedialog) => {\n                self.activedialog = activedialog;\n                if (callback) {\n                    callback();\n                }\n            });\n    }\n\n    ngAfterViewInit() {\n    }\n\n    ngOnChanges(changes) {\n        //console.log('changes', changes)\n    }\n    \n\n\n    ngOnDestroy() {\n        this.ref.detach(); \n        //this.statusService.ready.unsubscribe();\n    }\n\n    private _detectChanges () {\n        // Programmatically run change detection to fix issue in Safari\n        setTimeout(() => {\n            if ( this.ref !== null &&\n                this.ref !== undefined &&\n                ! (this.ref as ViewRef).destroyed ) {\n                    this.ref.detectChanges();\n            }\n\n        }, 250);\n    }\n\n    private createAudioIncoming() {\n        this.audio = new Audio();\n        this.audio.src = \"/static/assets/music/incoming-phone-call.mp3\";\n        this.audio.load();\n    }\n\n    private _playCallingAudo() {\n        if (this.audio_enable) {\n            this.audio.play();\n        }\n    }\n\n\n    public handlerRejectfrom(item) {\n        let user_key_id = item.key_id;\n        let command = {\n            command: 'CALLING_MASTER_REJECT',\n            target: user_key_id,\n            source: this.user.key_id,\n            activedialigid: this.activedialog.id\n        }\n        this.webSocketService.sendCommand(command);\n    }\n\n    public handlerTakeCall(user_key_id) {\n        let self = this;\n        let command = {\n            command: 'START_DIALOG',\n            target: self.activedialog.id,\n            master: self.user.key_id,\n            pupil: user_key_id\n        }\n        self.webSocketService.sendCommand(command);\n    }\n\n    private _calling(message) {\n        //console.log('_calling')\n        let exists = false;\n        for (let i = 0; i < this.callingfroms.length; i++) {\n            if (this.callingfroms[i].key_id == message.user.key_id) {\n                exists = true;\n                this.callingfroms[i].lasttime = new Date();\n            }\n        }\n        if (!exists) {\n            message.user.lasttime = new Date();\n            this.callingfroms.push(message.user);\n        }\n        if (this.callingfroms.length > 0) {\n            this._playCallingAudo();\n        }\n        this._detectChanges();\n        \n    }\n    \n\n    public stopWaitCallDialog() {\n        let self = this;\n        self.loading = true;\n        let command = {\n            command: 'CALLING_REJECT',\n            target: self.activedialog.id\n        }\n        self.webSocketService.sendCommand(command);\n    }\n\n\n\n    public handelerStopDialog(data) {\n        let self = this;\n        self.loading = true;\n        let command = {\n            command: 'EXIT_FROM_ACTIVE_DIALOG_BY_MASTER',\n            target: data.activedialogid\n        }\n        self.webSocketService.sendCommand(command)\n    }\n    \n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_mode_wait_pupil/view_mode_wait_pupil.component.ts","module.exports = \"<div class=\\\"container\\\" *ngIf=\\\"mode == 'wait'\\\">\\n    <div class=\\\"row\\\">\\n        <div *ngIf=\\\"activedialog\\\" class=\\\"panel panel-default\\\" style=\\\"margin:40px;\\\">\\n             <div class=\\\"panel-heading\\\">\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-md-6\\\">\\n                        <h4>Входящий звонок от ученика...</h4>\\n                    </div>\\n                    <div class=\\\"col-md-6\\\" style=\\\"text-align: right;\\\">\\n                        <p style=\\\"margin: 0 20px;\\\">Имя диалога: {{activedialog.dialog.name}}\\n                            <i *ngIf=\\\"audio_enable\\\" class=\\\"fa fa-volume-up\\\" aria-hidden=\\\"true\\\" style=\\\"font-size: 30px;margin-left:20px;cursor:pointer;\\\" (click)=\\\"audio_enable=!audio_enable\\\"></i>\\n                            <i *ngIf=\\\"!audio_enable\\\" class=\\\"fa fa-volume-off\\\" aria-hidden=\\\"true\\\" style=\\\"font-size: 30px;margin-left:20px;cursor:pointer;\\\"  (click)=\\\"audio_enable=!audio_enable\\\"></i>\\n                        </p>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"panel-body\\\">\\n                <!-- <p>Запущен {{activedialog.created_at | date:\\\"hh:mm dd-mm-yyyy\\\"}}</p> -->\\n                <p *ngIf=\\\"callingfroms.length > 0\\\">Входящие звонки</p>\\n                <callingfroms [listin]=\\\"callingfroms\\\" (rejectfrom)=\\\"handlerRejectfrom($event)\\\" (takecall)=\\\"handlerTakeCall($event)\\\"></callingfroms>\\n                <div style=\\\"margin-top: 30px\\\">\\n                    <button class=\\\"btn btn-warning\\\" (click)=\\\"stopWaitCallDialog()\\\"><span>Отмена</span></button>\\n                </div>\\n            </div>\\n        </div>\\n        <div *ngIf=\\\"!activedialog\\\" style=\\\"width: 100%;height: 100%;\\\">\\n            <h4 style=\\\"text-align: center;margin-top: 30px;\\\">Подготовка к получения входящего звонока от ученика...</h4>\\n            <img src=\\\"/static/assets/images/progress.gif\\\" style=\\\"display: block;width: 100px;margin: 40px auto;\\\">\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"container\\\" *ngIf=\\\"mode == 'mode_dialog_master'\\\">\\n    <div class=\\\"row\\\">\\n        <modedialogmaster [activedialogid]=\\\"activedialog.id\\\" (stopdialog)=\\\"handelerStopDialog($event)\\\"></modedialogmaster>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_mode_wait_pupil/view_mode_wait_pupil.template.html\n// module id = ../../../../../src/app/views/view_mode_wait_pupil/view_mode_wait_pupil.template.html\n// module chunks = main","import { Directive, forwardRef, Attribute } from '@angular/core';\nimport { Validator, AbstractControl, NG_VALIDATORS } from '@angular/forms';\n\n@Directive({\n    selector: '[validateEqual][formControlName],[validateEqual][formControl],[validateEqual][ngModel]',\n    providers: [\n        { provide: NG_VALIDATORS, useExisting: forwardRef(() => EqualValidator), multi: true }\n    ]\n})\nexport class EqualValidator implements Validator {\n    constructor( @Attribute('validateEqual') public validateEqual: string,\n        @Attribute('reverse') public reverse: string) {\n    }\n\n    private get isReverse() {\n        if (!this.reverse) return false;\n        return this.reverse === 'true' ? true: false;\n    }\n\n    validate(c: AbstractControl): { [key: string]: any } {\n        \n        // self value\n        let v = c.value;\n\n        // control vlaue\n        let e = c.root.get(this.validateEqual);\n        // value not equal\n        if (e && v !== e.value && !this.isReverse) {\n          return {\n            validateEqual: false\n          }\n        }\n        // value equal and reverse\n        if (e && v === e.value && this.isReverse) {\n            delete e.errors['validateEqual'];\n            if (!Object.keys(e.errors).length) e.setErrors(null);\n        }\n\n        // value not equal and reverse\n        if (e && v !== e.value && this.isReverse) {\n            e.setErrors({\n                validateEqual: false\n            })\n        }\n\n        return null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_profile/equal_validator.directive.ts","import { Component, OnInit, OnDestroy, Input, Output, OnChanges, EventEmitter } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\n\nimport { WebSocketService } from '../../services/websocket.service';\nimport { DialogsService } from '../../services/dialogs.service';\nimport { StatusService } from '../../services/status.service';\n\nimport { AppSettings } from '../../app.settings';\n\n@Component({\n  selector: 'modecalling',\n  templateUrl: 'view_profile.template.html'\n})\n\nexport class ProfileViewComponent implements OnInit {\n    private user;\n    private first_name;\n    private selectedLevel;\n    private password;\n    private password1;\n\n    private levels = [\n        {\n            id: 10,\n            title: \"Beginner, Elementary\"\n        },{\n            id: 20,\n            title: \"Pre-Intermediate\"\n        },{\n            id: 30,\n            title: \"Intermediate\"\n        },{\n            id: 40,\n            title: \"Upper-Intermediate\"\n        },{\n            id: 50,\n            title: \"Advanced\"\n        },{\n            id: 60,\n            title: \"Proficiency\"\n        },\n    ]\n\n    private loading: boolean = false;\n\n    constructor(\n        private statusService: StatusService,\n        private router: Router,\n        ) {\n    }\n\n    ngOnInit() {\n        let self = this;\n        \n\n        self.statusService.ready.subscribe((date)=> {\n            self.user = self.statusService.user;\n            if (!self.user) {\n                return;\n            }\n            self.setVars();\n        });\n        if (self.statusService.user) {\n            self.user = self.statusService.user;\n            self.setVars();\n        } else {\n            self.statusService.getStatus();\n        }\n\n    }\n\n    ngAfterViewInit() {\n        \n    }\n\n    setVars() {\n        this.first_name = this.user.first_name;\n        this.selectedLevel = this.user.level;\n    }\n    \n    changePassword($event) {\n        if (this.password1) {\n            this.password1 = \"\";\n        }\n    }\n\n    submit() {\n\n        if (this.first_name && this.selectedLevel && this.password && this.password1 && \n            this.password == this.password1) {\n            let params = {\n                first_name: this.first_name,\n                selectedLevel: this.selectedLevel,\n                password: this.password\n            }\n            console.log('para', params)\n            this.loading = true;\n            let self = this;\n            this.statusService.saveUser(params).subscribe((data)=>{\n                self.loading = false;\n            })\n        }\n    }\n   \n    \n\n    \n    \n    \n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_profile/view_profile.component.ts","module.exports = \"<div class=\\\"container\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"panel panel-default\\\" style=\\\"margin:40px;\\\">\\n            <div class=\\\"panel-heading\\\">\\n                <h3>Профиль пользователя <span class=\\\"pull-right\\\">{{user?.email}}</span></h3>\\n            </div>\\n            <div class=\\\"panel-body\\\">\\n                <form #frm=\\\"ngForm\\\" (ngSubmit)=\\\"submit()\\\" style=\\\"max-width: 400px;margin: auto;\\\">\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"exampleInputName\\\">Ваше имя * <span style=\\\"font-size: 10px;font-weight: 200;\\\">(будет отображаться другим пользователям)</span>\\n                        </label>\\n\\n                        <input #frm_first_name=\\\"ngModel\\\" type=\\\"text\\\" name=\\\"frm_first_name\\\" class=\\\"form-control\\\" id=\\\"exampleInputName\\\" [(ngModel)]=\\\"first_name\\\" required=\\\"required\\\">\\n                        <small *ngIf=\\\"!frm_first_name.valid && !frm_first_name.pristine\\\" class=\\\"text-danger pull-right\\\" style=\\\"margin:0\\\">Имя обязательное для ввода</small>\\n                        \\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"exampleInputLevel\\\">Ваш уровень английского *</label>\\n                        <select name=\\\"frm_level\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"selectedLevel\\\" style=\\\"\\\" (ngModelChange)=\\\"onChangePersonage()\\\" required=\\\"required\\\">\\n                             <option *ngFor=\\\"let pesonage of levels\\\" [value]=\\\"pesonage.id\\\">{{pesonage.title}}</option>\\n                         </select>\\n                    </div>\\n\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"exampleInputPassword1\\\">Новый пароль</label>\\n                        <input type=\\\"password\\\" name=\\\"frm_password\\\" class=\\\"form-control\\\" id=\\\"exampleInputPassword1\\\" [(ngModel)]=\\\"password\\\" required=\\\"required\\\" #frm_password=\\\"ngModel\\\" reverse=\\\"false\\\" (ngModelChange)=\\\"changePassword($event)\\\">\\n                        <small *ngIf=\\\"frm_password.errors && frm_password.errors.required && !frm_password.pristine\\\" class=\\\"text-danger pull-right\\\">\\n                            Требуется ввести пароль\\n                        </small>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"exampleInputPassword2\\\">Подтверждение пароля</label>\\n                        <input type=\\\"password\\\" name=\\\"frm_password1\\\" class=\\\"form-control\\\" id=\\\"exampleInputPassword2\\\" [(ngModel)]=\\\"password1\\\" validateEqual=\\\"frm_password\\\" #frm_password1=\\\"ngModel\\\" reverse=\\\"false\\\" required=\\\"required\\\">\\n                            <small *ngIf=\\\"frm_password1.errors && frm_password1.errors.validateEqual==false && !frm_password1.pristine\\\" class=\\\"text-danger pull-right\\\">\\n                                Пароли не совпадают\\n                            </small>\\n                    </div>\\n\\n\\n                    \\n                    <div class=\\\"form-group\\\">\\n                        <input type=\\\"submit\\\" class=\\\"btn btn-primary\\\" value=\\\"Сохранить\\\" [disabled]=\\\"!frm.valid\\\"/>\\n                    </div>\\n                </form>\\n            </div>\\n        </div>\\n\\n        <!-- Loading -->\\n        <div *ngIf=\\\"loading\\\" style=\\\"position: absolute;top:0;left:0;width:100%;height:100%;z-index: 100;\\\">\\n            <div style=\\\"position: absolute;opacity: 0.5;width:100%;height:100%;background-color: white;\\\">\\n            </div>\\n            <div style=\\\"width: 50px;margin: auto;margin-top: 160px;\\\">\\n                <i class=\\\"fa fa-spin fa-gear\\\" style=\\\"font-size: 50px;\\\"></i>\\n            </div>\\n        </div>\\n        <!-- END Loading -->\\n\\n\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/app/views/view_profile/view_profile.template.html\n// module id = ../../../../../src/app/views/view_profile/view_profile.template.html\n// module chunks = main","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// /Users/denis/Documents/Work/MyProg/WebRTC/djwebrtc/src/src/main.ts"],"sourceRoot":"webpack:///"}