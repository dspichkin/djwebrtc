<div style="padding: 20px">
    <div class="panel panel-primary">
        <div class="panel-heading">
            Редактируем диалог <strong>{{dialogue?.name}}</strong>
        </div>
        <div class="panel-body" style="padding: 20px;">
            <ul class="nav nav-tabs" role="tablist">
                <li (click)="mode='base'" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab">Описание диалога</a></li>
                <li (click)="mode='scenario'"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">Сценарий диалога</a></li>
            </ul>

             <!-- Tab panes -->
            <div *ngIf="mode=='base'" class="tab-content" style="padding: 20px;">
                <form #frm="ngForm" (ngSubmit)="submit()">
                    <div class="form-group">
                        <label for="name">Название диалога</label>
                        <input name="frm_name" type="email" class="form-control" id="name" [(ngModel)]="dialogue.name" required="required">
                    </div>
                    <div class="form-group">
                        <label for="description">Описание диалога</label>
                        <textarea name="frm_descriptioon" class="form-control" id="description"  [ngModel]="dialogue?.description" required="required"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="level">Требуемый уровень английсокого</label>
                        <select name="frm_level" id="level" class="form-control" [(ngModel)]="selectedDialogLevel" required="required">
                             <option *ngFor="let level of levels" [value]="level.id">{{level.title}}</option>
                         </select>
                    </div>

                    <div class="form-group">
                        <label for="background_image">Картинка диалога</label>
                        <div>
                            <div class="col-md-6">
                                <input type="file" class="btn btn-default" id="background_image" value="">
                            </div>
                            <div class="col-md-6">
                                <img *ngIf="!dialogue.background_image" alt="100%x200" data-src="holder.js/100%x200" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjQyIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDI0MiAyMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjwhLS0KU291cmNlIFVSTDogaG9sZGVyLmpzLzEwMCV4MjAwCkNyZWF0ZWQgd2l0aCBIb2xkZXIuanMgMi42LjAuCkxlYXJuIG1vcmUgYXQgaHR0cDovL2hvbGRlcmpzLmNvbQooYykgMjAxMi0yMDE1IEl2YW4gTWFsb3BpbnNreSAtIGh0dHA6Ly9pbXNreS5jbwotLT48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwhW0NEQVRBWyNob2xkZXJfMTVlOTZiYzA5NjUgdGV4dCB7IGZpbGw6I0FBQUFBQTtmb250LXdlaWdodDpib2xkO2ZvbnQtZmFtaWx5OkFyaWFsLCBIZWx2ZXRpY2EsIE9wZW4gU2Fucywgc2Fucy1zZXJpZiwgbW9ub3NwYWNlO2ZvbnQtc2l6ZToxMnB0IH0gXV0+PC9zdHlsZT48L2RlZnM+PGcgaWQ9ImhvbGRlcl8xNWU5NmJjMDk2NSI+PHJlY3Qgd2lkdGg9IjI0MiIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSI4OS44NTkzNzUiIHk9IjEwNS40Ij4yNDJ4MjAwPC90ZXh0PjwvZz48L2c+PC9zdmc+" data-holder-rendered="true" style="height: 50px; width: 50px; display: block;margin: 0 10px;"> 
                                    <div *ngIf="dialogue && dialogue.background_image" 
                                        [ngStyle]="{'background-image': 'url(' + dialogue.background_image + ')'}"
                                        style="
                                            height: 160px; 
                                            width: 190px; 
                                            background-size: cover;
                                            display: block;
                                            margin: 0 10px;">
                                    </div>
                            </div>
                        </div>
                    </div>
                 
                    <button type="submit" class="btn btn-primary btn-lg" [disabled]="!frm.valid">Сохранить</button>
                </form>
            </div>

            <div *ngIf="mode=='scenario'" class="tab-content" style="padding: 20px;">
                <scenario [dialogue]="dialogue"></scenario>
            </div>
        </div>
    </div>
    </div>